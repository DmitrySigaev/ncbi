<!-- $Id$ -->
<!--#set var="TITLE" value="NCBI C++ Toolkit:  Getting Started" -->
<!--#set var="HEADING" value="Getting Started" -->
<!--#set var="DOCROOT" value="." -->
<!--#include virtual="./ssi/header.shtml" -->

<a name="ref_GetStartedTop"></a>

This section is intended as a bird's-eye view of the Toolkit for new users, and to
give quick access to important reference links for experienced users.  It lays
out the general roadmap of tasks required to get going, giving links to take
the reader to detailed discussions and supplying a number of simple, concrete
test applications.

<br>
<p></p>
<font size=-1>
<i>Note:  </i>Much of this material is platform-neutral, although the discussion is Unix-centric.
Windows or Mac users would also benefit from reading the <a href="config.html#ref_AdHoc">installation
instructions</a> specific to those systems and, where applicable, how to use CVS with <a href="win_cvs.html">
MS Windows</a> and <a href="mac_cvs.html">Mac OS</a>.
</font>
<hr>
<p></p>
<ul>
    <li>
    <a href="#ref_QuickStart">Quick Start</a></li>

    <li>
    <a href="#ref_ExampleApps">Example Applications</a></li>
    <p></p>

    <li>
    <a href="#ref_SourceAvail">Source Tree Availability</a></li>
        <ul>
            <li>
            <a href="#ref_FTPAvail">FTP Availability</a></li>

            <li>
            <a href="#ref_CVSAvail">CVS Availability</a></li>

            <li>
            <a href="#ref_ScriptAvail">Availability via Shell Scripts</a></li>

        </ul>

    <li>
    <a href="#ref_SourceContents">Source Tree Contents</a></li>
        <ul>
            <li>
            <a href="#ref_Source">Top-Level Source Organization</a></li>

            <li>
            <a href="#ref_CoreContents">The Core NCBI C++ Toolkit</a></li>

            <li>
            <a href="#ref_Structure">Source Tree for Individual Projects</a></li>

            <li>
            <a href="#ref_MakefileTemplates">The Makefile Templates</a></li>

            <li>
            <a href="#ref_NewModuleStubs">The New Module Stubs</a></li>
            <p></p>
        </ul>

    <li>
    <a href="#ref_Where">Decide Where You Will Work</a> <i>(in-tree, in a subtree, out-of-tree)</i></li>

    <li>
    <a href="#ref_InstBasics">Basic Installation and Configuration Considerations</a></li>
        <ul>
            <li>
            <a href="#ref_ExampleBuild">A Simple Example Build</a></li>

            <li>
            <a href="#ref_ConfigureOptions"><tt>configure</tt> Options</a></li>

            <li>
            <a href="#ref_DebugVSRelease">Enable/Disable Debugging</a></li>

            <li>
            <a href="#ref_SharedLibs">Building Shared and/or Static Libraries</a></li>

            <li>
            <a href="#ref_EnvVars">Influencing <tt>configure</tt> via Environment Variables</a></li>

            <li>
            <a href="#ref_Threads">Multi-Thread Safe Compilation</a></li>

            <li>
            <a href="#ref_OptionalProj">Controlling Builds of Optional Projects</a></li>

            <li>
            <a href="#ref_Reconfigure">Adjust the Configuration of an Existing Build</a></li>

            <li>
            <a href="#ref_MultipleBuilds">Working With Multiple <i>build trees</i></a></li>
        </ul>

    <li>
    <a href="#ref_UsingToolkit">Basics of Using the C++ Toolkit</a></li>
        <ul>
            <li>
            <a href="#ref_UsingMake">Compiling and Linking with <tt>make</tt></a></li>

            <li>
            <a href="#ref_UsingMakefiles"><i>Makefile</i> Customization</a></li>

            <li>
            <a href="#ref_UsingInfra">Basic Toolkit Coding Infrastructure</a></li>

            <li>
            <a href="#ref_UsingKeyClasses">Key Classes</a></li>

            <li>
            <a href="#ref_UsingSerial">The Object Manager and <i>datatool</i>:  Using Serialized Biological Data Objects</a></li>

            <li>
            <a href="#ref_UsingStyle">Coding Standards and Guidelines</a></li>
            <p></p>
        </ul>

    <li>
    <a href="#ref_ImptFiles">Noteworthy Files</a></li>

</ul>

<hr>

<p>
<a name="ref_QuickStart"></a>
<h3>Quick Start <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>

A good deal of the complication and tedium of getting started has thankfully been wrapped by
a number of shell scripts.  They facilitate a 'quick start' whether starting
anew or within an existing Toolkit work environment.  ('Non-quick starts' sometimes
cannot be avoided, but they are considered <a href="cvs.html#ref_Create">elsewhere</a>.)

<p></p>&nbsp;
<ol>
    <li> <b>Get the <a href="src_tree.gif">Source Tree</a></b></li>
        <ul>
            <li>Download <a href="download.html#ref_FTP">via FTP</a>, <b>or</b></li>
            <li>Run <tt><a href="cvs.html#ref_CVS_Core">cvs_core.sh</a></tt><br>
            <font size=-1><i>(requires a CVS repository containing the C++ Toolkit; for NCBI users, the repository is at $CVSROOT/internal/c++)</i></font></li>
        </ul>

    <li> <b>Configure the <a href="bld_tree.gif">build tree</a></b></li>
        <ul>
            <li>Use the <tt><a href="config.html#ref_Running">configure</a></tt> script, <b>or</b></li>
            <li>Use a compiler-specific wrapper script <tt>scripts/compilers/*.sh</tt>.</li>Run
        </ul>

    <li> <b>Build the C++ Toolkit from <i>makefiles</i> and<i> meta-makefiles</i></b><font size=-1>(if required)</font>
        <ul>
            <li><tt>make all_r&nbsp;&nbsp;</tt> for a recursive make, <b>or</b></li>
            <li><tt>make all&nbsp;&nbsp;&nbsp;&nbsp;</tt> to make only targets for the current directory.</li>
        </ul>

    <li><b>Work on your new or existing application or library</b><br></li>
        <dl>
            <dt>
            <dd>
        the scripts
    <tt><a href="cvs.html#ref_New_Project">new_project.sh</a></tt> and (for an existing Toolkit project)
    <tt><a href="cvs.html#ref_Import_Project">import_project.sh</a></tt>
    help to set up the appropriate <i>makefiles</i> and/or source.
                </dd>
        </dl>

</ol>
<p></p>&nbsp;

<p></p>
In a nutshell, that's all it takes to get up and running.  The download, configuration, installation and build
actions are shown for two cases in this <a href="config.html#ref_Example">sample</a>.

<p></p>
The last item, employing the Toolkit in a project, completely glosses over the substantial
issue of how to use the installed Toolkit.  Where does one begin to look to identify the
functionality to solve your particular problem, or indeed, to write the simplest of programs?
"<a href="#ref_UsingToolkit">Basics of Using the C++ Toolkit</a>" will deal with those issues.


Investigate these and other topics with the set of <a href="#ref_ExampleApps">sample applications</a>.
See <a href="examples.html"><i>Examples</i></a> or <a href="tests.html"><i>Tests</i></a>
for further cases that employ specific features of the NCBI C++ Toolkit.

<hr>
<a name="ref_ExampleApps"></a>
<h3>Example Applications <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>

The suite of application examples below highlight important areas of the
Toolkit and can be used as a starting point for your own development.  Note that you may generate
the sample application code by running the
<tt><a href="cvs.html#ref_New_Project">new_project.sh</a></tt>
script for that application.  The following examples are now available:

    <ul>
        <a name="ref_ExAppBasic"></a>
        <li>  <tt><a href="lxr/source/src/app/sample/basic/">app/basic</a></tt>
        A generic application to demonstrate the use of <a href="#ref_UsingKeyClasses">key Toolkit classes</a>.
        </li>

        <a name="ref_ExAppCGI"></a>
        <li>  <tt><a href="lxr/source/src/app/sample/cgi">app/cgi</a></tt>
        Presents the Toolkit infrastructure required to write Web-enabled CGI applications.
        </li>

        <a name="ref_ExAppObject"></a>
        <li>  <tt><a href="lxr/source/src/app/sample/objects">app/objects</a></tt>
        The Toolkit manipulates biological data objects in the context of an
        <i>Object Manager</i> class (<tt>CObjectManager</tt>).  This example shows
        how to employ a concrete class representing a biological sequence
        within the general, flexible framework defined by the Toolkit.
        </li>
        <p></p>
    </ul>

To build an example use its accompanying <i>Makefile</i>.

<hr>

<a name="ref_SourceAvail"></a>
<h3>Source Tree Availability <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>
<ul>
    <a name="ref_FTPAvail"></a>
    <li>
    <b>FTP Availability</b><br>
    The Toolkit source is available via ftp at
    <a href="ftp://ncbi.nlm.nih.gov/toolbox/ncbi_tools++/CURRENT/">ftp://ncbi.nlm.nih.gov/toolbox/ncbi_tools++/CURRENT/</a>,
    and the archives available, with unpacking instructions, are listed on the
    <a href="download.html">download page</a>.  If you plan to modify the Toolkit
    source in any way with the ftp'd code, it is strongly advised that it be placed
    under a source code control system (prefereably CVS) so that you can
    rollback to an earlier revision without having to ftp the entire archive once again.
    </li>
    <p></p>

    <a name="ref_CVSAvail"></a>
    <li>
    <b>CVS Availability</b><br>
    NCBI users can obtain the source tree directly from the internal <a href="cvs.html">CVS repository</a>.
    Although CVS is historically a Unix-centric utility,
    <a href="win_cvs.html">MS Windows</a> and <a href="mac_cvs.html">Mac OS</a> users can also
    work with the CVS tree.
    </li>
    <p></p>

    <a name="ref_ScriptAvail"></a>
    <li>
    <b>Availability via Shell Scripts</b><br>
    The various shell scripts in $NCBI/<tt>c++/scripts</tt>
    tailor the working codebase and can prepare the work environment for new projects.
        Except where noted, an active
    Toolkit CVS repository is required, and obviously in all cases a version of the Toolkit
    must be accessible.  Be certain the $CVSROOT environment variable points at the correct
    CVS repository before running the scripts.
        <ul>
            <li>
            <a href="cvs.html#ref_CVS_Core"><tt>cvs_core.sh</tt></a> (or <tt>cvs_core.bat</tt> under MS Windows)</li>

            <li>
            <a href="cvs.html#ref_Import_Project"><tt>import_project.sh</tt></a></li>

            <li>
            <a href="cvs.html#ref_New_Project"><tt>new_project.sh</tt></a> <b> no CVS needed</b></li>

            <li>
            <a href="cvs.html#ref_Update_Core"><tt>update_core.sh</tt></a> and
            <a href="cvs.html#ref_Update_Projects"><tt>update_projects.sh</tt></a></li>

        </ul>

</ul>

<hr>

<a name="ref_SourceContents"></a>
<h3>Source Tree Contents <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>
<ul>
    <a name="ref_Source"></a>
    <li>
    <b>Top-Level Source Organization</b><br>
    The NCBI C++ Toolkit <a href="src_tree.gif"><i>source tree</i></a> is organized as follows:

    <ul>
        <li> <i><b>src/</b></i> -- a hierarchical directory tree of
             <a href="new_proj.html">NCBI C++ projects</a>.  Contained within <i><b>src</b></i> are all source files (<i>*.cpp, *.c</i>), along with private header files
             (<i>*.hpp, *.h</i>), makefiles (<i>Makefile.*</i>, including
             <a href="makefiles.html#ref_MakeProjMk"><i>Makefile.mk</i></a>),
             scripts (<i>*.sh</i>), and occasionally some project-specific data

        <li> <i><b>include/</b></i> -- a hierarchical directory tree whose
             structure mirrors the <i><b>src</b></i> directory tree. It
             contains only public header files (<i>*.hpp, *.h</i>).
             <br><i>Example:</i> <i><b>include/corelib/</b></i> contains public headers for the sources
             located in <i><b>src/corelib/</b></i>

        <li> <i><b>scripts/</b></i> -- auxiliary scripts, including those to help manage interactions
             with the NCBI CVS code repository, such as  <scan class=red> verify links </span>
                <a href="new_proj.html#ref_OutsideImport">
                   <b><i>import_project.sh</i></b></a>,
                <a href="new_proj.html#ref_OutsideCreate">
                   <b><i>new_project.sh</i></b></a>,
                <a href="new_proj.html#ref_Checkout">
                   <b><i>cvs_core.sh</i></b></a>,
              etc.

        <li> files for platform-specific <a href="config.html#ref_Running">configuration and installation</a>:
            <ul>
                <li>  <i><b>compilers/</b></i> -- directory containing
                      <a href="config.html#ref_Wrappers">
                      compiler-specific <b><i>configure</i></b> wrappers</a>
                      (<i>*.sh</i>) and
                      <a href="config.html#ref_PreBuiltHeaders">
                      pre-built configuration headers</a>
                      (<i>ncbiconf.*</i>) for some platforms
                <li>  <i><b>configure</b></i> -- a multi-platform configuration shell
                      script (generated from template <i>configure.ac</i> using
                      <a href="http://sunland.gsfc.nasa.gov/info/autoconf/Top.html">
                      autoconf</a>)
                <li>  various scripts and template files used by
                      <i><b>configure</b></i>,
                      <a href="http://sunland.gsfc.nasa.gov/info/autoconf/Top.html">
                      autoconf</a> and
                      <a href="http://sunland.gsfc.nasa.gov/info/autoconf/Invoking_autoheader.html"> autoheader</a>
            </ul>

        <li> <i><b>doc/</b></i> -- NCBI C++ documentation, including a library reference,
             configuration and installation instructions, example code and guidelines
             for <b>everybody</b> writing code for the NCBI C++ Toolkit.

    </ul>
    </li>
    <p></p>

    <a name="ref_CoreContents"></a>
    <li>
    <b>The Core NCBI C++ Toolkit</b><br>
    The 'core' libraries of the Toolkit provide users with a highly portable set of functionality.
    The following projects comprise the portable core of the Toolkit:<br>

<blockquote><tt>
corelib
connect
cgi
html
util
hello
</tt></blockquote>
    Consult the <a href="libs.html">library reference</a> for further details.
    </li>
    <p></p>

    <a name="ref_Structure"></a>
    <li>
    <b>Source Tree for Individual Projects</b><br>
    <font size=-1>(For the overall NCBI C++ <i>source tree</i> structure see <a href="#ref_Source"> Top-Level Source Organization</a> above.)</font>

<p>
An individual <i>project</i> contains the set of source code and/or scripts that are required
to build a Toolkit library or executable.  In the NCBI source tree, projects are identified as sub-trees of the <tt> src </tt> and <tt> include </tt>
directories of the main C++ tree root.  For example, <tt> corelib </tt> and <tt> objects/objmgr </tt>
are both projects.  However, note that a project's code exists in two sibling directories:
the public headers in <tt> include/ </tt> and the source code, private headers and <i>makefiles</i> in <tt> src </tt>.

<p>
The contents of each project's <a href="lxr/source/src/"><i>source tree</i></a> are:
<ul>
    <li> <b><i>*.cpp, *.hpp</i></b> --  project's source files and private headers
    <li> <b><i>Makefile.in</i></b> -- a <a href="makefiles.html#ref_MakefilesMeta"><i>meta-makefile</i></a>
          to specify which local projects (described in <i>Makefile.*.in</i>)
          and sub-projects(located in the project subdirectories) must be built
    <li> <b><i>Makefile.*.lib, Makefile.*.app</i></b> -- <i>customized makefiles</i> to build a library or an application
    <li> <b><i>Makefile.*</i></b> -- "free style" makefiles
    <li> sub-project directories (if any)
</ul>
    </li>
    <p></p>

    <a name="ref_MakefileTemplates"></a>
    <li>
    <b>The Makefile Templates</b><br>
Each project is built by customizing a set of generic <i>makefiles</i>.  These generic
<i>makefile</i> templates (<b><i>Makefile.*.in</i></b>) are found in <tt> src </tt> and help to control the
assembly of the entire Toolkit via recursive builds of the individual projects.  (The usage of
these <i>makefiles</i> and other configurations issues are
<a href="#ref_InstBasics">summarized below</a> and detailed
on the <a href="makefiles.html">Working with Makefiles</a> page.)

<p></p>

        <ul>
            <li> <b><i>Makefile.in</i></b> -- makefile to perform a recursive build in all project subdirectories
            <li> <b><i>Makefile.meta.in</i></b> -- included by all makefiles that provide both local and recursive builds
            <li> <b><i>Makefile.mk.in</i></b> -- included by all makefiles; sets a lot of configuration variables
            <p>
            <li> <b><i>Makefile.lib.in</i></b> -- included by all makefiles that perform a "standard" library build, when building only static libraries.
            <li> <b><i>Makefile.dll.in</i></b> -- included by all makefiles that perform a "standard" library build, when building only shared libraries.
            <li> <b><i>Makefile.both.in</i></b> -- included by all makefiles that perform a "standard" library build, when building both static and shared libraries.
            <li> <b><i>Makefile.lib.tmpl.in</i></b> -- serves as a template for the project <i>customized makefiles</i>
              (<b><i>Makefile.*.lib[.in]</i></b>) that perform a "standard" library build
            <li> <b><i>Makefile.app.in</i></b> -- included by all makefiles that perform a "standard" application build
            <li> <b><i>Makefile.lib.tmpl.in</i></b> -- serves as a template for the project <i>customized makefiles</i>
              (<b><i>Makefile.*.app[.in]</i></b>) that perform a "standard" application build
            <li> <b><i>Makefile.rules.in, Makefile.rules_with_autodep.in</i></b> -- instructions for building object files; included by most other makefiles
        </ul>
    </li>
    <p></p>

    <a name="ref_NewModuleStubs"></a>
    <li>
    <b>The New Module Stubs</b><br>
    A Toolkit module typically consists of a header (<tt>*.hpp</tt>) and a source (<tt>*.cpp</tt>) file.
    Use the <a href="new_mod.html">stubs</a> provided, which include boilerplate
    such as the NCBI disclaimer and CVS revision information, to easily start a new module.  You may
    also consider using the <a href="#ref_ExampleApps">sample code</a> described above for your new module.
</ul>

<hr>

<p>
<a name="ref_Where"></a>
<h3>Decide Where You Will Work <i>(in-tree, in a subtree, out-of-tree)</i> <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>

Depending on how you plan to interact with the NCBI C++ Toolkit source tree,
the Toolkit has mechanisms to streamline how you <a href="projects.html">create and manage</a>
projects.  The simplest case is to work <a href="programming_manual/outside_tree.html"><i>out-of-tree</i></a>
in a private directory.  This means that you are writing new code that
needs only to link with pre-built Toolkit libraries.  If your
project requires the source for a limited set of Toolkit projects it is often sufficient to work
<a href="programming_manual/sub_tree.html"><i>in a subtree</i></a> of the Toolkit source distribution.

<p>
Most users will find it preferable and fully sufficient to work in a subtree or a private directory.
Certain situations and users (particularly Toolkit developers) do require access to the full Toolkit
source tree; in such instances one must work <a href="programming_manual/inside_tree.html"><i>in-tree</i></a>.

<p>
<hr>

<p>
<a name="ref_InstBasics"></a>
<h3>Basic Installation and Configuration Considerations <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>

<i>Note:  </i>Much of this discussion is Unix-centric, so Windows and Mac users would also benefit from reading
the <a href="config.html#ref_AdHoc">installation instructions</a> specific to those systems.<br>

<p></p>
The configuration and installation process is automated with the <tt>configure</tt> script and
its <a href="config.html#ref_Wrappers">wrappers</a> in
the <tt>compilers</tt> directory.  These scripts handle the compiler- and platform-dependent
Toolkit settings and create the <a href="bld_tree.gif"><i>build tree</i></a> skeleton.
The configured <i>build tree</i>, located in <tt><i>&lt;builddir&gt;</i></tt>, is populated with
customized <i>meta-makefile</i>, headers and source files.
Most system-dependence has been isolated in the <tt><i>&lt;builddir&gt;</i>/inc/ncbiconf.h</tt> header.<br>
By running <tt><b>make all_r</b></tt> from <tt><i>&lt;builddir&gt;</i></tt>, the full Toolbox is built
for the target platform and compiler combination.

<p></p>
Summarized below are some basic ways to control the installation and configuration process.
More comprehensive documentation can be found at <a href="config.html">config.html</a>.

<p></p>
<ul>
    <a name="ref_ExampleBuild"></a>
    <li>
    <b><a href="config.html#ref_Example">A Simple Example Build</a></b><br>
    </li>
    <p></p>

    <a name="ref_ConfigureOptions"></a>
    <li>
    <b><a href="config.html#ref_GetHelp"><tt>configure</tt> Options</a></b><br>
    View the <a href="configure_options.txt">list of options</a> by running
    <pre>    configure --help</pre>
    </li>
    <p></p>

    <a name="ref_DebugVSRelease"></a>
    <li>
    <b><a href="config.html#ref_DebugVsRelease">Enable/Disable Debugging</a></b><br>
    </li>
    <p></p>

    <a name="ref_SharedLibs"></a>
    <li>
    <b><a href="config.html#ref_DLL">Building Shared and/or Static Libraries</a></b><br>
    Shared libraries (DLL's) can be used in Toolkit executables and libraries for a number of
    <a href="config.html#ref_DLL_OK">tested configurations</a>.  Note that to link with the
    shared libraries at run time a valid <a href="config.html#ref_RunPath"><i>runpath</i></a>
    must be specified.
    </li>
    <p></p>

    <a name="ref_EnvVars"></a>
    <li>
    <b><a href="config.html#ref_ToolsAndFlags">Influencing <tt>configure</tt> via Environment Variables</a></b><br>
    Several environment variables control the tools and flags employed by <tt>configure</tt>.  The
    <a href="config.html#ref_TableToolsAndFlags">generic ones</a> are:
    <b>CC, CXX, cpp, AR, RANLIB, STRIP, CFLAGS, CXXFLAGS, cppFLAGS, LDFLAGS, LIBS</b>.  In addition,
    you may manually set various <a href="config.html#ref_Localization">localization environment variables</a>.
    </li>
    <p></p>

    <a name="ref_Threads"></a>
    <li>
    <b><a href="config.html#ref_MT">Multi-Thread Safe Compilation</a></b><br>
    </li>
    <p></p>

    <br>
    <a name="ref_OptionalProj"></a>
    <li>
    <b><a href="config.html#ref_Optional">Controlling Builds of Optional Projects</a></b><br>
    You may selectively build or not build one of the optional projects ("serial", "ctools", "gui", "objects", "internal")
    with <tt>configure</tt> flags.  If an optional project is not configured into your distribution,
    it can be added later using the <a href="cvs.html#ref_Import_Project"><tt>import_projects</tt></a>
    script.
    </li>
    <p></p>

    <a name="ref_Reconfigure"></a>
    <li>
    <b><a href="config.html#ref_Reconf">Adjust the Configuration of an Existing Build</a></b><br>
    If you need to update or change the configuration of an existing build, use the <tt>reconfigure.sh</tt> or
    <tt>relocate.sh</tt> script.
    </li>
    <p></p>

    <a name="ref_MultipleBuilds"></a>
    <li>
    <b><a href="config.html#ref_Configure">Working With Multiple <i>build trees</i></a></b><br>
    Managing builds for a variety of platforms and/or compiler environments is straightforward.
    The configure/install/build cycle has been designed to support the concurrent development
    of multiple builds from the same source files.  This is accomplished by having
    independent <i>build trees</i> that exist as sibling directories.  Each build is configured
    according to its own set of configuration options and thus produces distinct libraries and executables.
    All builds are nonetheless constructed from the same source code in $NCBI/<tt>c++/{src, include}</tt>.

    </li>
</ul>

<hr>

<p>
<a name="ref_UsingToolkit"></a>
<h3>Basics of Using the C++ Toolkit <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>

<p></p>
<ul>
    <a name="ref_UsingMake"></a>
    <li>
    <b><a href="makefiles.html">Compiling and Linking with <tt>make</tt></a></b><br>
    The NCBI C++ Toolkit uses the standard Unix utility <tt>make</tt> to build
    libraries and executable code, using instructions found in
    <i>makefiles</i>.   To initiate compilation and linking, run <tt>make</tt>:
<pre>
    make -f &lt;<i>Makefile_Name</i>&gt [<a href="makefiles.html#ref_MakeProjTarget">&lt;target_name&gt;</a>]
</pre>

    When run from the top of the build tree, this command can make the entire tree (with
    target <b><tt>all_r</tt></b>).  If given within a specific project subdirectory it
    can be made to target just the that project.

    <p></p>
    The Toolkit has in its <tt>src </tt> directory templates (<i>e.g., </i> <tt>Makefile.*.in</tt>)
    for <a href="makefiles.html#ref_MakefilesProj"><i>makefiles</i></a> and
    <a href="makefiles.html#ref_MakefilesMeta"><i>meta-makefiles</i></a>
    that define common file locations, compiler options, environment settings,
    and <a href="makefiles.html#ref_MakeProjTarget">standard <tt>make</tt> targets</a>.
    Each Toolkit project has a specialized <a href="#ref_MakefileTemplates"><i>meta-makefile</i></a>
    in its <tt>src </tt> directory.  The relevant <i>meta-makefile</i> templates for a project,
    <i>e.g., </i> <tt>Makefile.in</tt>,
    are customized by <tt>configure</tt> and placed in its <i>build tree</i>.

    <p></p>
    For new projects, whether <a href="programming_manual/inside_tree.html">in</a> or <a href="programming_manual/outside_tree.html">out</a>
    of the C++ Toolkit tree, the programmer must provide either <i>makefiles</i> or <i>meta-makefiles</i>.
    </li>
    <p></p>

    <a name="ref_UsingMakefiles"></a>
    <li>
    <b><a href="makefiles.html#ref_MakefilesProj"><i>Makefile</i> Customization</a></b><br>
    Fortunately, for the common situations where a <a href="cvs.html">script</a> was
    used to set up your source, or if you are working in the C++ Toolkit source tree,
    you will usually have correctly customized <i>makefiles</i> in each project directory of the build tree.  For
    other cases, particularly <a href="cvs.html#ref_New_Project">when using the <tt>new_project.sh</tt></a>
    script, some measure of user customization may be needed.  The
    more frequent customizations involve (see "<a href="makefiles.html#ref_MakefilesProj">Working with Makefiles</a>" or "<a href="new_proj.html#ref_MakeProj">Project makefiles"</a> for a full discussion):
    <p></p>
        <ul>
            <li>
            <a href="programming_manual/inside_tree.html#make_in"><i>meta-makefile</i> macros</a>: <b>APP_PROJ, LIB_PROJ, SUB_PROJ, USR_PROJ</b><br>
            Lists of applications, libraries, sub-projects, and user projects, respectively, to make.</li>

            <li>
            <a href="new_proj.html#ref_MakeProjLib">Library and </a><a href="new_proj.html#ref_MakeProjApp">Application macros</a>:  <b>APP, LIB, LIBS, OBJ, SRC</b><br>
            List the application name to build, Toolkit library(ies) to make or include,
            non-Toolkit library(ies) to link, object files to make, and source to use, respectively.</li>

            <li>
            <a href="makefiles.html#ref_MakeProjMk">Compiler Flag Macros</a>:  <b>CFLAGS, cppFLAGS, CXXFLAGS, LDFLAGS</b><br>
            Include or override C compiler, C/C++ preprocessor, C++ compilier, and linker flags, respectively.
            Many more localization macros are also <a href="config.html#ref_Localization">available for use</a>.</li>

            <li>
            <a href="new_proj.html#ref_OutsideCreate">Altering the Active Version of the Toolkit</a><br>
            You can change the active version of NCBI C++ toolkit by manually setting the
            variable $(builddir) in <tt>Makefile.foo_[app|lib]</tt> to the desired toolkit path, e.g.:<br>
            <tt>builddir = $(NCBI)/c++/GCC-Release/build</tt>.<br>
            <p></p>
            Consult <a href="programming_manual/outside_tree.html#overview">this list</a>
            or, better, look at the output of '<tt>ls -d $NCBI/c++/*/build</tt>'
            to see those pre-built Toolkit builds available on your system.</li>
            <p></p>
        </ul>
    </li>
    <p></p>

    <a name="ref_UsingInfra"></a>
    <li>
    <b>Basic Toolkit Coding Infrastructure</b><br>
    Summarized below are some features of the global Toolkit infrastructure that users may
    commonly employ or encounter.
    <p></p>
        <ul>
            <li><b><i>The NCBI Namespace Macros</i></b><br>
            The header <a href="lxr/source/include/corelib/ncbistl.hpp"><tt>ncbistl.hpp</tt></a>
            defines three principal namespace macros:
            <b><a href="lxr/ident&i=NCBI_NS_STD&d=M">NCBI_NS_STD</a></b>,
            <b><a href="lxr/ident&i=NCBI_NS_NCBI&d=M">NCBI_NS_NCBI</a></b> and
            <b><a href="lxr/ident&i=NCBI_USING_NAMESPACE_STD&d=M">NCBI_USING_NAMESPACE_STD</a></b>.
            Respectively, these refer to the standard C++ <tt>std::</tt> namespace, a local
            NCBI namespace <tt>ncbi::</tt> for Toolkit entities, and a namespace combining
            the names from <b>NCBI_NS_STD</b> and <b>NCBI_NS_NCBI</b>.
            </li>
            <p></p>

            <li><b><i>Using the NCBI Namespaces</i></b><br>
            Also in <a href="lxr/source/include/corelib/ncbistl.hpp"><tt>ncbistl.hpp</tt></a>
            are the macros <b><a href="lxr/ident&i=BEGIN_NCBI_SCOPE&d=M">BEGIN_NCBI_SCOPE</a></b> and
            <b><a href="lxr/ident&i=END_NCBI_SCOPE&d=M">END_NCBI_SCOPE</a></b>.  These bracket
            code blocks which define names to be included in the NCBI namespace, and are invoked
            in nearly all of the Toolkit headers (see <a href="framewrk.hpp">example</a>).
            To use the NCBI namespace in a code block, place the
            <b><a href="lxr/ident&i=USING_NCBI_SCOPE&d=M">USING_NCBI_SCOPE</a></b> macro
            before the block references its first unqualified name.  This macro also
            allows for unqualified use of the <tt>std::</tt> namespace.  Much of
            the Toolkit source employs this macro (see <a href="framewrk.cpp">example</a>),
            although it is possible to define and work with other namespaces.
            </li>
            <p></p>

            <li><b><i>Configuration-Dependent Macros and</i> <tt>ncbiconf.h</tt></b><br>
            <tt>#ifdef</tt> tests for the configuration-dependent macros, for example
            <tt>_DEBUG</tt> or <tt>NCBI_OS_UNIX,</tt>
            etc., are used throughout the Toolkit for conditional compilation
            and accommodate your environment's requirements.
            The <tt>configure</tt> script defines many of these macros; the
            resulting <tt>#define</tt>'s appear in the <a href="/lxr/find?string=ncbiconf.h"><tt>ncbiconf.h</tt></a>
                header and is found in the <tt><i>&lt;builddir&gt;</i>/inc</tt> directory.
                It is not typically included explicitly by the programmer, however.
            Rather, it is included by other basic Toolkit headers (<i>e.g.,</i> <tt>ncbitype.h,
            ncbicfg.h, ncbistl.hpp</tt>) to pick up configuration-specific features.
            </li>
            <p></p>

            <li><b><i>NCBI Types</i> (<tt>ncbitype.h, ncbi_limits.[h|hpp]</tt>)</b><br>
                To promote code portability developers are strongly encouraged to use these
                <a href="types.html#ref_Init">standard C/C++ types</a> whenever possible
                as they are ensured to have well-defined behavior throughout the Toolkit.
                Also see the current <a href="types.html#ref_Policy">type-use rules</a>.
                <br>
                The <a href="lxr/source/include/corelib/ncbitype.h"><tt>ncbitype.h</tt></a>
                header provides a set of <a href="types.html#ref_IntFixed">
                fixed-size integer types</a> for special situations, while the
                <tt>ncbi_limits.[<a href="lxr/source/include/corelib/ncbi_limits.h">h</a>|
                <a href="lxr/source/include/corelib/ncbi_limits.h">hpp</a>]</tt> headers set
                numeric limits for the supported types.
                </li>
                <p></p>

            <li><b><i>The <tt>ncbistd.hpp</tt> header</i></b><br>
            The NCBI C++ standard #include's and #defin'itions are found in
            <a href="/lxr/source/include/corelib/ncbistd.hpp"><tt>ncbistd.hpp</tt></a>, which
            provides the interface to many of the basic Toolkit modules.
            The explicit NCBI headers included by <tt>ncbistd.hpp</tt> are:
            <blockquote>
            <tt>ncbitype.h, ncbistl.hpp, ncbistr.hpp, ncbidbg.hpp, ncbiexpt.hpp</tt> and
            <tt>ncbi_limits.h</tt>.
            </blockquote>
            </li>
            <p></p>

            <li><b><i>Portable Stream Handling</i></b><br>
            Programmers can ensure portable stream and buffer I/O operations
            by using the NCBI C++ Toolkit stream wrappers, <tt>typedef</tt>'s and <tt>#define</tt>'s
            declared in the <a href="/lxr/source/include/corelib/ncbistre.hpp"><tt>ncbistre.hpp</tt></a>.
            For example, always use <tt>CNcbiIstream</tt>
            instead of <tt>YourFavoriteNamespace::istream</tt> and favor <tt>NcbiCin</tt> over
            <tt>cin</tt>.<br>
            A variety of classes that perform case-conversion and other manipulations in conjunction
            with NCBI streams and buffers are also available.
            See the <a href="/lxr/source/include/corelib/ncbistre.hpp">source</a> for details.
            </li>
            <p></p>

            <li><b><i>Use of the C++ STL (Standard Template Library) in the Toolkit</i></b><br>
                The Toolkit employs the STL's set of template container classes,
                algorithms and iterators for managing collections of objects.  Being
                standardized interfaces, coding with them provides portability.  However,
                one drawback is the inability of STL containers to deal with reference
                objects, a problem area the Toolkit's
                <a href="programming_manual/cref.html#cref"><tt>CRef</tt> and <tt>CObject</tt> classes</a>
                largely remedy.
                </li>
                <p></p>

            <li><b><i>Serializable Objects, the ASN.1 Data Types and <tt>datatool</tt></i></b><br>
                The <a href="../SDKDOCS/DATAMODL.HTML">ASN.1 data model</a> for biological
                data underlies all of the C and C++ Toolkit development at NCBI.  The C++
                Toolkit represents the ASN.1 data types as
                <a href="programming_manual/objects.html">serializable objects</a>, that is,
                objects able to save, restore, or transmit their state.  This
                requires knowledge of an object's type and as such a <tt>CTypeInfo</tt>
                object is provided in each class to encapsulate <a href="programming_manual/typeinfo.html">type information</a>.

                <p></p>
                Additionally, <a href="programming_manual/objstream.html">object stream</a>
                classes (<tt>CObject[IO]Stream</tt>, and subclasses)
                have been designed specifically to perform data object serialization.
                The nuts-and-bolts of doing this has been documented on the
                <a href="programming_manual/asn.html">Processing Serial Data</a> page,
                with additional information about the contents and parsing of ASN.1-derived
                objects in <a href="programming_manual/traverse.html">Traversing a Data Structure</a>.

                <p></p>
                Each of the serializable objects appears in its own subdirectory under
                <tt>[<a href="lxr/source/src/objects/">src</a>|
                <a href="lxr/source/include/objects/">include</a>]/objects</tt>.
                These <tt>objects/*</tt> projects are configured differently from the
                rest of the Toolkit, in that header and source files are auto-generated from the
                ASN.1 specifications by the <a href="tools/datatool/datatool.html">datatool</a>
                program.  The <a href="config.html#ref_Optional">--with-objects</a>
                flag to <tt>configure</tt> also directs a build of the
                <a href="programming_manual/objects.html#base"><i>user classes</i></a>
                for the serializable objects.

            </li>
            <p></p>

        </ul>

    </li>
    <p></p>

    <a name="ref_UsingKeyClasses"></a>
    <li>
    <b>Key Classes</b><br>
    For reference, we list some of the fundamental classes used in developing
    applications with the Toolkit.
    Some of these classes <a href="programming_manual/applic.html">are described elsewhere</a>,
    but consult the <a href="libs.html">library reference</a> and the
    <a href="source_browser.html">source browser</a> for complete details.
        <p></p>
        <ul>
            <li><a href="programming_manual/applic.html">CNcbiApplication</a>
                <dl>
                    <dt>
                    <dd> (abstract class used to define the basic functionality and behavior of an NCBI application;<br>
                <b>this application class effectively supercedes the C-style main() function</b>)
                </dl>
            </li>

            <li><a href="programming_manual/argdescr.html">CArgDescriptions, CArgs, and CArgValue</a>
                <dl>
                    <dt>
                    <dd> (command-line argument processing)
                </dl>
            </li>

            <li><a href="programming_manual/applic.html#CNcbiEnvironment">CNcbiEnvironment</a>
                <dl>
                    <dt>
                    <dd> (store, access,and modify environment variables)
                </dl>
            </li>

            <li><a href="programming_manual/registry.html">CNcbiRegistry</a>
                <dl>
                    <dt>
                    <dd> (load, access, modify and store runtime information)
                </dl>
            </li>

            <li><a href="programming_manual/diag.html">CNcbiDiag</a>
                <dl>
                    <dt>
                    <dd> (error handling for the Toolkit; )
                </dl>
            </li>

            <li><a href="programming_manual/cref.html#cobject">CObject</a>
                <dl>
                    <dt>
                    <dd> (base class for objects requiring a reference count)
                </dl>
            </li>

            <li><a href="programming_manual/cref.html">CRef</a>
                <dl>
                    <dt>
                    <dd> (a reference-counted smart pointer; particularly useful with STL and template classes)
                </dl>
            </li>

            <li><a href="programming_manual/objstream.html">CObject[IO]Stream</a>
                <dl>
                    <dt>
                    <dd> (serialized data streams)
                </dl>
            </li>

            <li><a href="programming_manual/typeinfo.html">CTypeInfo and CObjectTypeInfo</a>
                <dl>
                    <dt>
                    <dd> (Runtime Object Type Information; extensible to <b><i><a href="programming_manual/usrtypeinfo.html">user-defined types</a></i></b>)
                </dl>
            </li>

            <li><a href="libs/object_manager.html">CObjectManager, etc.</a>
                <dl>
                    <dt>
                    <dd> (classes for working with biological sequence data)
                </dl>
            </li>

            <li><a href="programming_manual/cgi.html">CCgiApplication, etc.</a>
                <dl>
                    <dt>
                    <dd> (classes to create CGI and Fast-CGI applications and handle <b><i><a href="programming_manual/cgi_diag.html">CGI Diagnostics</a></i></b>)
                </dl>
            </li>

            <li><a href="programming_manual/webpgs.html">CNCBINode, etc.</a>
                <dl>
                    <dt>
                    <dd> (classes representing HTML tags and Web page content)
                </dl>
            </li>

            <li><a href="programming_manual/iterators.html"> Iterator Classes</a>
                <dl>
                    <dt>
                    <dd> (easy traversal of collections and containers)
                </dl>
            </li>

            <li><a href="programming_manual/exceptions.html">Exception Handling</a>
                <dl>
                    <dt>
                    <dd> (classes, macros and tracing for exceptions)
                </dl>
            </li>

        </ul>
    </li>
    <p></p>

    <a name="ref_UsingSerial"></a>
    <li>
    <b><tt>datatool</tt> and The Object Manager</b>:  Using Serialized Objects to Access Biological Sequence Data<br>

        <tt><a href="tools/datatool/datatool.html">datatool</a></tt> processes the ASN.1 specifications
        in the src/objects/directories and is the C++ Toolkit's analogue of the C Toolkit's <tt>asntool</tt>.
        The goal of <tt>datatool</tt> is to generate the class definitions corresponding to each ASN.1
        defined data entity, including all required <a href="programming_manual/typeinfo.html">type information</a>.
        As ASN.1 allows data to be selected from one of several types in a
        <a href="programming_manual/choice.html"><i>choice</i> element</a>,
        care must be taken to handle such cases.

        <p></p>
                The <a href="libs/object_manager.html"><i>Object Manager</i></a> is
                a C++ Toolkit library whose goal
                is to transparently download data from the GenBank database, investigate bio
                sequence data structure, retrieve sequence data, descriptions and annotations.
                In the library are <a href="libs/om/om_def.html">classes</a>
                such as <tt>CDataLoader</tt> and <tt>CDataSource</tt> which manage
                global and local accesses to data,
                <tt>CSeqVector</tt> and <tt>CSeqMap</tt> objects to find and manipulate sequence data,
                a number of <a href="libs/om/om_def.html#Description_iterator">specialized iterators</a>
                to parse descriptions and annotations, among others.  The <tt>CObjectManager</tt>
                and <tt>CScope</tt> classes provide the foundation of the library, managing
                data objects and coordinating their interactions.
                <p></p>

                An <a href="lxr/source/src/internal/objmgr_lab/sample/task.cpp">example</a>,
                <a href="libs/om/om_start.html">jump-start</a> and
                <a href="libs/om/om_faq.html"><i>Object Manager</i> FAQ</a> are all available
                to help new users.

    </li>
    <p></p>

    <a name="ref_UsingStyle"></a>
    <li>
    <b>Coding Standards and Guidelines</b><br>
    All C++ source in the Toolkit has a <a href="style.html">well-defined coding style</a> which shall be
    used for new contributions and is highly encouraged for all user-developed code.
    Among these standards are
        <ul>
            <li><a href="style.html#ref_Naming">variable naming conventions</a>
            (for types, constants, class members, etc.), </li>

            <li><a href="style.html#ref_Prefix">using namespaces and the NCBI name scope</a></li>

            <li><a href="style.html#ref_Indent">code indentation</a> (4-space indentation,
            <b>no</b> tab symbols)</li>

            <li><a href="style.html#ref_Class">declaring and defining classes and functions</a></li>
        </ul>
    </li>
    <p></p>

</ul>

<hr>

<p>
<a name="ref_ImptFiles"></a>
<h3>Noteworthy Files <font size=-2><span class=nava>[<a href="#ref_GetStartedTop">TOP</a>]</span></font></h3>
<table border=0 cellspacing=5>
  <tr bgcolor="#ccccff">
     <th align="left">Filename<br><font size=-1><i>(relative to $NCBI/<tt>c++</tt>)</i></font></th>
     <th align="center">Description</th>
  </tr>

  <tr>
     <td><tt>configure<br>
             compilers/&lt;<i>compiler_name</i>&gt;.sh</tt></td>
     <td>Use the <tt>configure</tt> shell script, or one of its compiler-specific wrappers, to
     fully configure and install all files required to build the Toolkit.</td>
  </tr>
  <tr>
     <td><tt>scripts/cvs_core.{sh|bat}</tt></td>
     <td>Unix/Windows scripts to obtain the <a href="#ref_CoreContents">core</a>, portable portions of the Toolkit
     from an existing CVS repository.</td>
  </tr>
  <tr>
     <td><tt>scripts/import_project</tt></td>
     <td>Import only an existing Toolkit project into an independent subtree of your current Toolkit source tree.<br>
     (Requires a CVS source repository.)</td>
  </tr>
  <tr>
     <td><tt>scripts/update_{core|projects}</tt></td>
     <td>Update your local copy of either the <a href="#ref_CoreContents">core</a> Toolkit or set of
     specified projects.<br>  (Requires a CVS source repository.)</td>
  </tr>
  <tr>
     <td><tt>scripts/new_project</tt></td>
     <td>Set up a new project outside of the NCBI C++ Toolkit tree to access
     pre-built version of the Toolkit libraries.  Sample code can be requested
     to serve as a template for the new module.<br></td>
  </tr>
  <a name="ref_TmplMetaMake"></a>
  <tr>
     <td><tt>src/<i>&lt;project_dir&gt;</i>/Makefile.in<br>
             src/<i>&lt;project_dir&gt;</i>/<br>&nbsp;&nbsp;&nbsp;&nbsp;
             Makefile.<i>&lt;project&gt;</i>.{app, lib}</tt></td>
     <td>Customized <i>meta-makefile</i> template and the corresponding datafile to provide
     project-specific source dependancies, libraries,
     compiler flags, etc.  This information is accessed by <tt>configure</tt> to build a
     projects's <i>meta-makefile</i> (see <a href="#ref_LiveMetaMake">below</a>).</td>
  </tr>
  <tr>
     <td><tt>doc/framewrk.{cpp|hpp}</tt></td>
     <td>Basic templates for source and header files that can be used when starting a new module.
     Includes common headers, the NCBI disclaimer and CVS keywords in a standard way.</td>
  </tr>
  <tr>
     <td><tt>CHECKOUT_STATUS</tt></td>
     <td>This file summarizes the local source tree structure that was obtained when using one of the
     shell scripts in <tt>scripts</tt>.<br>  (Requires a CVS source repository.)</td></td>
  </tr>
  <tr bgcolor="#ccccff">
     <th align="left">Build-specific Files<br><font size=-1><i>(relative to $NCBI/<tt>c++/&lt;<i>builddir</i>&gt;</tt>)</i></font></th>
     <th align="center">Description</th>
  <tr>
     <td><tt>Makefile<br>
             Makefile.mk<br>
             Makefile.meta</tt></td>
     <td>These are the primary <i>makefiles</i> used to build the entire Toolkit (when used recursively).
     They are customized for a specific build from the corresponding <i>*.in</i> templates in $NCBI/<tt>c++/src</tt>.<br>
     <tt>Makefile</tt> is the master, top-level file, <tt>Makefile.mk</tt> sets many make and shell variables
     and <tt>Makefile.meta</tt> is where most of the make targets are defined.</td>
  </tr>
  <a name="ref_LiveMetaMake"></a>
  <tr>
     <td><tt><i>&lt;project_dir&gt;</i>/Makefile<br>
             <i>&lt;project_dir&gt;</i>/<br>&nbsp;&nbsp;&nbsp;&nbsp;Makefile.<i>&lt;project&gt;</i>_{app, lib}</tt></td>
     <td>Project-specific custom <i>meta-makefile</i> and <i>makefiles</i>, respectively, configured from
     templates in the <tt>src/</tt> hierarchy and any pertinent
     <tt>src/<i>&lt;project_dir&gt;</i>/Makefile.<i>&lt;project&gt;</i>.{app, lib} files
     (see <a href="#ref_TmplMetaMake">above</a>).</td>
  </tr>
  <tr>
     <td><tt>inc/ncbiconf.h</tt></td>
     <td>Header that <tt>#define</tt>s many of the build-specific constants required by the Toolkit.<br>
     This file is auto-generated by the <tt>configure</tt> script, and some pre-built versions do exist
     in <tt>compilers</tt>.</td>
  </tr>
  <tr>
     <td><tt>reconfigure.sh</tt></td>
     <td>Update the build tree due to changes in or the addition of configurable files
     (*.in files, such as <tt>Makefile.in</tt> or the <i>meta-makefiles</i>) to the source tree.</td>
  </tr>
  <tr>
     <td><tt>relocate.sh</tt></td>
     <td>Adjust paths to this build tree and the relevant source tree.</td>
  </tr>
  <tr>
     <td><tt>corelib/ncbicfg.c</tt></td>
     <td>Define and manage the runtime path settings.<br>
     This file is auto-generated by the <tt>configure</tt> script.</td>
  </tr>
  <tr>
     <td><tt>status/config.{cache|log|status}</tt></td>
     <td>These files provide information on <tt>configure</tt>'s construction of the build tree,
     and the cache of build settings to expedite future changes.</td>
  </tr>

</table>

<br></br>
<hr>

<!--#include virtual="./ssi/navlinks.shtml" -->

<hr>

<table border=0 width="100%" cellspacing=0>
<script>
<!--
print_author('cpp-core', 'Chris Lanczycki', '$Date$', 'ncbi.nlm.nih.gov');
// -->
</script>
</table>

<!--#include virtual="./ssi/footer.shtml" -->
