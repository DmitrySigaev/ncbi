<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.75 [en] (X11; U; SunOS 5.7 sun4u) [Netscape]">
   <title> Using the CArgDescriptions class </title>
</head>
<body bgcolor="#FFFFFF">

<h1>
Command-line arguments -- parsing, validation, and access to</h1>

<ul>
<li>
<a href="#ref_Overview">Overview</a></li>

<ul>
<li>
<a href="#ref_Overview_WhatFor">What this API allows you to do with the
command-line arguments</a></li>

<li>
<a href="#ref_Overview_Classes">Relationship between the <i>CArgDescriprions</i>,
<i>CArgs</i>,
and <i>CArgValue</i> classes</a></li>

<li>
<a href="#ref_Overview_Structure">Generic structure of the command line,
and available argument types</a></li>
</ul>

<li>
<a href="#ref_CArgDescriptions"><i>CArgDescriptions</i> class -- to describe
argument's attributes and constraints</a></li>

<ul>
<li>
<a href="#ref_CArgDescriptions_Attr">Argument attributes (name,synopsis,
comment, value type, default value)</a></li>

<li>
<a href="#ref_CArgDescriptions_Types">Argument <i>types</i></a></li>

<ul>
<li>
position-independent arguments (tagged)</li>

<ul>
<li>
mandatory keys:&nbsp; <font color="#3333FF">-&lt;key> &lt;value></font></li>

<li>
optional keys:&nbsp; <font color="#3333FF">[-&lt;key> &lt;value>]</font></li>

<li>
flags: <font color="#3333FF">-&lt;flag></font></li>
</ul>

<li>
positional arguments (no tags preceding)</li>

<ul>
<li>
plain (named):&nbsp; <font color="#3333FF">&lt;value></font></li>

<li>
extra: <font color="#3333FF">&lt;value> .....</font></li>
</ul>
</ul>

<li>
<a href="#ref_CArgDescriptions_StdValueTypes">Standard types (pre-defined
restrictions) for the argument
<i>value</i></a></li>

<li>
<a href="#ref_CArgDescriptions_UserValueTypes"><i>CArgAllow</i> class --
to impose user-defined restrictions on the argument <i>value</i></a></li>

<li>
<a href="#ref_CArgDescriptions_Number">Constraining the number of positional
arguments</a></li>

<li>
<a href="#ref_CArgDescriptions_Usage">Generating a USAGE message</a></li>
</ul>

<li>
<a href="#ref_CArgs"><i>CArgs</i> class -- container of <i>CArgValue</i>
objects, to access parsed arg. values</a></li>

<li>
<a href="#ref_CArgValue"><i>CArgValue</i> class -- contains an argument's
value</a></li>

<li>
<a href="#ref_CArgValue">Code examples</a></li>
</ul>
<a NAME="ref_Overview"></a>
<h3>
Overview</h3>

<h4>
<a NAME="ref_Overview_WhatFor"></a>What this API allows you to do with
the command-line arguments</h4>
This set of classes is to automate the parsing of command line arguments,
namely:
<ul>
<li>
Specify attributes for the expected arguments such as name, synopsis, comment,
data type, etc.</li>

<li>
Validate the values of arguments passed to the program against these descriptions</li>

<li>
Validate the number of positional arguments</li>

<li>
Generate the <a href="#ref_CArgDescriptions_Usage">USAGE</a> message based
on the argument descriptions</li>

<li>
Access the input argument values specifically type-cast according to their
description</li>
</ul>

<h4>
<a NAME="ref_Overview_Classes"></a>Relationship between the <i>CArgDescriptions</i>,
<i>CArgs</i>,
an <i>CArgValue</i> classes</h4>
The <i><a href="#argdescr">CArgDescriptions</a></i> class provides an interface
to describe type and attributes of expected command-line arguments. After
all descriptions, constraints and restrictions are defined, the <i><a href="#argdescr">CArgDescriptions</a></i>
object will be used to parse arguments passed in the program command-line,
verify their overall structure, match their values against descriptions,
and generate a <i><a href="#cargs">CArgs</a></i> object. The resulting
<i><a href="#cargs">CArgs</a></i>
object will contain verified and ready-to-use argument values. Then, value
of any argument can be accessed using
<br>this argument's name (as it was specified in&nbsp; the "parent" <i><a href="#argdescr">CArgDescriptions</a></i>
object) -- the value is returned as a <i>CArgValue</i> object, which can
be safely type-cast to the right C++ type (<i>int</i>, <i>string</i>, <i>stream</i>,
etc.). Schematically:
<ul>
<li>
CArgDescriptions::AddXXX(),&nbsp; CArgDescriptions::SetConstraint(), CArgDescriptions::Allow()</li>

<li>
CArgDescriptions::CreateArgs(argc, argv)&nbsp; --->&nbsp; CArgs</li>

<li>
CArgs["some_arg_name"]&nbsp; --->&nbsp; CArgValue</li>

<li>
CArgValue::AsDouble()&nbsp; --->&nbsp; <i>double</i>,&nbsp;&nbsp;&nbsp;
CArgValue::AsString()&nbsp; --->&nbsp; <i>string</i>,&nbsp;&nbsp;&nbsp;
etc.</li>
</ul>

<h4>
<a NAME="ref_Overview_Structure"></a>Generic structure of the command line,
and available argument types</h4>
This API can describe and work with the command line arguments that fit
the following profile:
<p>//&nbsp;&nbsp;&nbsp; progname&nbsp; {<font color="#3333FF">arg_key</font>,
<font color="#3333FF">arg_key_opt</font>,
<font color="#3333FF">arg_flag</font>}&nbsp;
{<font color="#3333FF">arg_plain</font>}&nbsp; {<font color="#3333FF">arg_extra</font>}
<br>//
<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#3333FF">arg_key</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
:=&nbsp; -&lt;key> &lt;value>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- (mandatory)
<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#3333FF">arg_key_opt</font>&nbsp;&nbsp;
:= [-&lt;key> &lt;value>]&nbsp;&nbsp;&nbsp; -- (optional)
<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#3333FF">arg_flag</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
:= -&lt;flag>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-- (always optional)
<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#3333FF">arg_plain</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
:= &lt;value> | [value]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- (dep. on
the constraint policy)
<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <font color="#3333FF">arg_extra</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
:= &lt;value> | [value]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -- (dep. on
the constraint policy)
<br>//
<br>//&nbsp;&nbsp;&nbsp; &lt;key> must be followed by &lt;value>
<br>//&nbsp;&nbsp;&nbsp; &lt;flag> and &lt;key> are case-sensitive, and
can contain only alphanumeric characters
<br>//&nbsp;&nbsp;&nbsp; &lt;value> is an arbitrary string (additional
restrictions can be imposed upon the argument value)
<br>//
<br>// {<font color="#3333FF">arg_plain</font>} and {<font color="#3333FF">arg_extra</font>}
are position dependent arguments, with no tag preceding them.
<br>// {<font color="#3333FF">arg_plain</font>} have individual names and
descriptions.
<br>// {<font color="#3333FF">arg_extra</font>} have only one description
for all of them.
<br>// User can apply constraints on the <i>number</i> of position arguments.
<p><font color="#FF0000">Examples:</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp; MyProgram1 -reverse -depth
5 -name Lisa -log foo.log 1.c 2.c 3.c</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp; MyProgram2 -i foo.txt -o foo.html
-color red</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp; MyProgram3&nbsp; -a -quiet
-pattern 'Error:'&nbsp; bar.txt</font>
<p><a NAME="ref_CArgDescriptions"></a>
<h3>
The <i><a href="../docxx/CArgDescriptions.html">CArgDescriptions</a></i>
class</h3>

<h4>
<a NAME="ref_CArgDescriptions_Attr"></a>Argument description attributes</h4>
Methods AddXXX() are used to describe the following argument attributes:
<ul>
<li>
<i>name</i> --</li>

<li>
<i>synopsis</i> --</li>

<li>
<i>comment</i> --</li>

<li>
<i>value type</i> --</li>

<li>
<i>value type dependent flags</i> --</li>

<li>
<i>default value</i> --</li>
</ul>

<h4>
<a NAME="ref_CArgDescriptions_Types"></a>Argument <i>types</i></h4>
The <i>CArgDescriptions</i> class allows you to define command-line arguments
that fit one of the following 5 pattern types:
<dl>
<dt>
<font color="#000080">Mandatory named arguments:&nbsp; <i>-&lt;key> &lt;value>
</i></font><i><font color="#FF0000">(example:&nbsp;
-age 31)</font></i></dt>

<dd>
Position-independent argument that <b>must</b> be specified in the command
line.</dd>

<dd>
<i><a href="../lxr/ident?i=AddKey">AddKey(key,
synopsis, comment, value_type, flags)</a></i></dd>

<br>&nbsp;
<dt>
<font color="#000080">Optional named arguments:&nbsp; <i>[-&lt;key> &lt;value>]
</i></font><i><font color="#FF0000">(example:&nbsp;
-name Lisa)</font></i></dt>

<dd>
Position-independent argument that can be specified in the command line.
They have default value for the case they are not specified by user.</dd>

<dd>
<i><a href="../lxr/ident?i=AddKey">AddOptionalKey(key,
synopsis, comment, value_type, flags, default_value)</a></i></dd>

<br>&nbsp;
<dt>
<font color="#000080">Optional named flags:&nbsp; <i>[-&lt;flag>] 
</i></font><i><font color="#FF0000">(example:&nbsp;
-reverse)</font></i></dt>

<dd>
Position-independent boolean (without value) argument. Always optional.</dd>

<dd>
<i><a href="../lxr/ident?i=AddFlag">AddFlag(flag,
comment)</a></i></dd>

<br>&nbsp;
<dt>
<font color="#000080">Named positional arguments:&nbsp; <i>&lt;value> |
[&lt;value>]
</i></font><i><font color="#FF0000">(example:&nbsp; 12 Feb)</font></i></dt>

<dd>
These are position-<i>dependent</i> arguments (of any type), which are
input using a <i>value</i> only. They do however, have names stored with
their descriptions, which they are associated with in an order-dependent
fashion. Specifically, the order in which untagged argument descriptions
are added to the <i>CArgDescriptions</i> object using <i>AddPlain()</i>
defines the order in which these arguments should appear on the command
line. Using a <i><a href="#ref_CArgDescriptions_Number">constraint policy</a></i>
, it is possible to specify how many of these arguments <b>must</b> be
present in the command line.</dd>

<br>&nbsp;
<dt>
<font color="#000080">Unnamed positional arguments (all of the same type:

<i>&lt;value1> | [valueN]</i>&nbsp; </font><i><font color="#FF0000">(example:&nbsp;
foo.c bar.c xxx.c)</font></i></dt>

<dd>
These are also position-<i>dependent</i> arguments that are input using
a <i>value</i> only. Again, the <i><a href="#ref_CArgDescriptions_Number">constraint
policy</a></i> determines how many of these arguments are required. Unlike
the previous argument type however, these arguments do not have individual
named descriptions, but share a single "unnamed" description.</dd>
</dl>

<p><br>Descriptions for <i>named</i> positional arguments are specified
using
<i><a href="../lxr/ident?i=AddPlain">AddPlain()</a></i>,
whose arguments are identical to the <i>AddOptionalKey()</i> method, less
the <i>synopsis</i> argument. Finally, the <i><a href="../lxr/ident?i=AddExtra">AddExtra()</a></i>
method is used to define a single description for a set of "extra" unnamed
positional arguments of uniform type.
<p>Any of the registered descriptions can be tested for existence and/or
deleted using:
<br><font color="#008080">&nbsp;&nbsp; bool Exist(const string&amp; name)
const;</font>
<br><font color="#008080">&nbsp;&nbsp; void Delete(const string&amp; name);</font>
<h4>
<a NAME="ref_CArgDescriptions_StdValueTypes"></a>Standard types (pre-defined
restrictions) for the argument
<i>value</i></h4>
&nbsp;The
<i>EType</i> enumeration is defined as:
<br><font color="#008080">&nbsp; enum EType {</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eString
= 0, // an arbitrary string</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eAlnum,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
// [a-zA-Z0-9]</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eBoolean,&nbsp;&nbsp;&nbsp;
// {'true', 't', 'false', 'f'},&nbsp; case-insensitive</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eInteger,&nbsp;&nbsp;&nbsp;
// convertible to an integer number (long)</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eDouble,&nbsp;&nbsp;&nbsp;&nbsp;
// convertible to a floating point number (double)</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eInputFile,&nbsp;
// name of file (must exist and be readable)</font>
<br><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eOutputFile&nbsp;
// name of file (must be writeable)</font>
<br><font color="#008080">&nbsp;&nbsp; };</font>
<p>The last argument, <i>openflags</i>, has meaning only when the <i>EType</i>
is <i>eInputFile</i> or
<i>eOutputFile</i>, and constrains the mode in
which the file should be opened.
<h4>
<a NAME="ref_CArgDescriptions_UserValueTypes"></a><i>CArgAllow</i> class
-- to impose user-defined restrictions on the argument <i>value</i></h4>
<i>.............................................</i>
<h4>
<a NAME="ref_CArgDescriptions_Number"></a>Constraining the number of positional
arguments</h4>
Positional arguments on the command line are associated with their argument
descriptions according to the order in which they occur, and the order
in which their descriptions were registered. Thus, if your program contained
the following lines:
<br><font color="#008080">&nbsp;&nbsp; descriptions.AddPlain("n", "between
1 and 10", eInteger);</font>
<br><font color="#008080">&nbsp;&nbsp; descriptions.AddPlain("f", "between
0 and 1", eDouble);</font>
<br>then calling the program as: <i>myprog 1 0</i>, would bind the positional
parameters as <i>n = 1</i> and <i>f = 0.0</i>.
<p>By default, the <i>expected</i> number of <i>named</i> positional arguments
is equal to the number of <i>named</i> positional descriptions that were
registered using <i>AddPlain()</i>, thus making them untagged mandatory
arguments. It is possible to modify this default behavior however, by using
the <i><a href="../lxr/ident?i=SetConstraint">SetConstraint()</a></i>
method. This method takes two arguments, an <i>EConstraint policy</i>,
and an <i>unsigned int</i> value (<i>N</i>), and constrains the <i>total</i>
number of (named and unnamed) positional arguments, <i>M</i>, as follows:
<br>&nbsp;
<br>&nbsp;
<table BORDER=2 >
<tr>
<th>policy</th>

<th>constraint</th>
</tr>

<tr>
<td><i>eAny&nbsp;</i></td>

<td>none&nbsp;</td>
</tr>

<tr>
<td><i>eLessOrEqual&nbsp;</i></td>

<td><i>M &lt;= N</i></td>
</tr>

<tr>
<td><i>eEqual&nbsp;</i></td>

<td><i>M == N</i></td>
</tr>

<tr>
<td><i>eMoreOrEqual&nbsp;</i></td>

<td><i>M => N</i></td>
</tr>
</table>

<p>Consider next, what would happen if we had also invoked <i>AddExtra("extra_args",
eInteger)</i>, to describe additional unnamed integer arguments. The default
behavior is equivalent to what would result from having called <i>SetConstraint(eEqual,
n_named_positional)</i>. Thus, to allow <i>unnamed</i> positional arguments
on the command line as well, the <i>SetConstraint()</i> method should be
invoked with
<i>eMoreOrEqual</i> and/or a larger value of <i>N</i>.
<p>Some care must be applied when using both named and unnamed positional
arguments. The unnamed positional arguments always follow the named positional
parameters, and in some cases it may be necessary to employ "dummy" arguments
to obtain the correct alignment between the command line arguments and
their descriptions.
<h4>
<a NAME="ref_CArgDescriptions_Usage"></a>Generating a USAGE message</h4>
There are many points where an exception may arise, due to either an argument
type mismatch or missing arguments. <i>CArgDescriptions::CreateArgs() </i>provides
a method of checking the command line arguments against the descriptions
which have been registered. The first step of this method involves a <i>pre-check</i>
that tests to see if the constraint policy is satisfiable. If so, then
the individual argument values are loaded, and a <i>post-check</i> is performed
to ensure that all of the mandatory arguments were present and that the
positional arguments satisfied the constraint policy.
<p>Exceptions which are thrown during argument processing can be presented
to the user, but by themselves do not provide very useful information.
Catching the exception and displaying it <i>along</i> with a usage message
provides a sounder interface to the application, and can be done as follows.
<pre><font color="#008080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // ...executed inside CNcbiApplication::Run()

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CArgDescriptions argDescr;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CNcbiArguments myArgs = GetArguments();

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; argDescr.CreateArgs(myArgs);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; catch (exception&amp; e) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string a;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cerr &lt;&lt; e.what() &lt;&lt; endl;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; argDescr.SetUsageContext(myArgs[0], "(program description)");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cerr &lt;&lt; argDesc.PrintUsage(a);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return (-1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</font></pre>
The <i>CreateArgs()</i> method actually serves two purposes: (1) it verifies
that all of the required arguments are present, and that the number of
positional arguments is valid, and (2) it creates an instance of the <i>CArgs</i>
class, described below. Here, we use it only to demonstrate the deployment
of the <i>usage</i> message.
<p>&nbsp;The <i>SetUsageContext()</i> method is used to define the name
of the program and its description, as it will be displayed by the usage
message that is generated. <i>PrintUsage(localString)</i> writes its message
to the <i>localString, and</i> returns that <i>string</i>, so that it can
be used with an output operator. The output generated when an exception
occurs might look something like:
<pre><font color="#000080">Must specify mandatory argument:&nbsp; "-i &lt;InputFile>"&nbsp;
SYNOPSIS
&nbsp;&nbsp; ./myApplic -text -i inputFile [-l logFile]&nbsp;

DESCRIPTION&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; (program description)

OPERANDS&nbsp;&nbsp;&nbsp;
&nbsp;-text&nbsp;&nbsp;&nbsp; Flag
&nbsp;&nbsp; Use text input format
&nbsp;-i InputFile&nbsp;&nbsp;&nbsp; InpFile, mandatory
&nbsp;&nbsp; Input data file
&nbsp;[-l logFile]&nbsp;&nbsp;&nbsp; OutFile, optional
&nbsp;&nbsp; Log errors to &lt;logfile></font></pre>
The usage message prints a synopsis of the program and its arguments, a
description of the program, and a summary of each argument, as obtained
from its description. For example, the input file argument's description
was registered as:
<pre><font color="#008080">argDesc.AddKey("i", "InputFile", "Input data file", argDesc.eInputFile, 0);</font></pre>
<a NAME="ref_CArgs"></a>
<h1>
The <i>CArgs</i> class -- container of <i>CArgValue</i> objects, to access
parsed arg. values</h1>
The <i>CArgs</i> class provides a data structure where the arguments' values
can be stored, and includes access routines in its public interface:
<pre><font color="#008080">class CArgs
{
public:

&nbsp;&nbsp;&nbsp; bool Exist(string&amp; name) const;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // TRUE if name has a description
&nbsp;&nbsp;&nbsp; unsigned GetNExtra(void) const;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // number of extra arguments

&nbsp;&nbsp;&nbsp; const CArgValue&amp; operator [](string&amp; name);&nbsp;&nbsp;&nbsp;&nbsp; // retrieve value by argument name
&nbsp;&nbsp;&nbsp; const CArgValue&amp; operator [](unsigned idx);&nbsp;&nbsp;&nbsp;&nbsp; // retrieve value by unnamed arg's index

&nbsp;&nbsp;&nbsp; void Print(string&amp; str) const;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Print all arguments to "str"
};</font></pre>
One of the most important capabilities of this class is not shown here
however, as it is a public method implemented by private data members of
the <i>CArgs</i> class:
<pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float f = args["f"].AsDouble();</pre>
Here, <i>args</i> is an instance of <i>CArgs</i>, and we are accessing
the value of the argument that followed the <i>-f</i> key on the command
line.
<p><a NAME="ref_CArgValue"></a>
<h1>
<i>CArgValue</i> class -- contains an argument's value</h1>
The internal representation of this argument is an instance of a
<i><a href="../docxx/CArgValue.html">CArgValue</a></i>,
whose primary purpose is to provide type-validated loading through its
<i>AsXxx()</i>
methods:
<pre><font color="#008080">class CArgValue : public CObject
{
public:

&nbsp;&nbsp;&nbsp; // These functions throw an exception on the wrong value type

&nbsp;&nbsp;&nbsp; string&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AsString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (void) const;
&nbsp;&nbsp;&nbsp; long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AsInteger&nbsp;&nbsp;&nbsp;&nbsp; (void) const;
&nbsp;&nbsp;&nbsp; double&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AsDouble&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (void) const;
&nbsp;&nbsp;&nbsp; bool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AsBoolean&nbsp;&nbsp;&nbsp;&nbsp; (void) const;
&nbsp;&nbsp;&nbsp; CNcbiIstream&amp;&nbsp; AsInputFile&nbsp; (EFlags) const;
&nbsp;&nbsp;&nbsp; CNcbiOstream&amp;&nbsp; AsOutputFile (EFlags) const;

&nbsp;&nbsp;&nbsp; bool IsDefaultValue(void) const;
};</font></pre>

<h1>
<a NAME="ref_CodeExamples"></a></h1>

<h1>
Code examples</h1>
A simple application program, <i><a href="applic_cpp.html">applic.cpp</a></i>
demonstrates the usage of these classes for argument processing. See also
<i><a href="../lxr/source/src/corelib/test/test_ncbiargs.cpp">test_ncbiargs.cpp</a></i>,
and <i><a href="../lxr/source/src/objects/asn2asn/asn2asn.cpp">asn2asn.cpp</a></i>
for more examples.
<p><a href="applic.html"><i>Previous</i>&nbsp;</a>&nbsp;&nbsp; <i><a href="../index.html">Up
</a><a href="diag.html">Next&nbsp;</a></i>
<hr>
<table BORDER=0 CELLSPACING=0 WIDTH="100%" >
<tr>
<td>
<address>
<a href="mailto:zimmerma@ncbi.nlm.nih.gov">Diane Zimmerman</a></address>
</td>

<td><!-- <td align=center><i>$Revision$</i></td> --></td>

<td ALIGN=RIGHT><i>$Date$</i></td>
</tr>

<tr>
<td>
<address>
<a href="mailto:vakatov@ncbi.nlm.nih.gov">Denis Vakatov</a></address>
</td>
</tr>
</table>

</body>
</html>
