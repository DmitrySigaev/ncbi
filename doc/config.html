<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Installation and configuration</title>
  </head>

  <body>
	 <h1>Installation and configuration</h1>



	 
<ul>
  <li> <a href="#ref_Source">NCBI C++ source code</a> 
  <li> <a href="#ref_Ncbiconf">NCBI C++ configuration header "ncbiconf.h"</a> 
  <li> <a href="#ref_Autoconf">Creating &quot;ncbiconf.h&quot;</a> 
  <li> <a href="#ref_PreGen">Pre-generated configuration headers</a> 
  <li> <a href="#ref_Compilers">List of supported compilers</a> 
</ul>
<p>This page describes how to get the NCBI C++ library and how to create the <i>ncbiconf.h</i> 
  header used to configure it to work with the platform and compiler you are using.</p>
<p><br>
</p>
<a name="ref_Source"><h2>NCBI C++ source code</h2></a>

	 <p>
	 The NCBI C++ source code can be obtained from internal NCBI
	 CVS tree(<i><b>"$CVSROOT/internal/cpp/"</b></i>) or
	 from a distribution archive. In either case, the root directory will
	 contain:
	 <ul>
		<li> <i><b>"doc/"</b></i> directory. -- 
		Here go the generic NCBI C++ documentation, manuals(e.g. including
		this one <i>"doc/config.html"</i>) and guidelines for
		<b>everybody</b> writing on C++ in NCBI SWG.

		<li> <i><b>"projects/"</b></i> directory. --
		It contains subdirectories for NCBI C++ projects(e.g. <i>"project/corelib/"</i>).
		For a more detailed information on the project directory structure, etc.
		see in
		<a href="new_proj.html">Starting new C++ project</a>.

		<li>
		<a href="http://sunland.gsfc.nasa.gov/info/autoconf/Top.html">autoconf</a>
		-related files used to <a href="#ref_Autoconf">configure</a>
		the NCBI C++ package, and
		<a href="#ref_PreGen">pre-generated configuration headers</a>
		as described beneath.
	 </ul>


	 <br>
	 <a name="ref_Ncbiconf"><h2>NCBI C++ configuration header <i>"ncbiconf.h"</i></h2>
</a> 
<p> Because each computer and compiler compiles C++ code differently, it's necessary 
  to run a program called <i>configure </i>that creates a header file called <i>ncbiconf.h</i> 
  that describes the these differences, allowing for truly portable code. <i>ncbiconf.h</i> 
  is then included in all standard NCBI headers. An example of the information 
  contained in <i>ncbiconf.h</i> are preprocessor variable used to define NCBI 
  C++ <a href="types.html#ref_IntFixed">sized integer</a> and <a href="types.html#ref_BigScalar"><i>BigScalar</i></a> 
  types. 
<p><br>
<p><br>
<a name="ref_Autoconf">
<h2>Creating <i>&quot;ncbiconf.h&quot;</i></h2>
</a>
<p>If necessary, remove "config.cache" in internal/cpp and remove (or save somewhere 
  else) <i>"projects/corelib/include/ncbiconf.h"</i> before running the <i>"configure"</i> 
  script. Next, set environment variables that point to your c and c++ compilers, 
  and, in the case of Sunpro C++ 4.2, the location of the Standard Library.
<p>Sunpro C++ 4.2:
<pre>
(if you are using csh or tcsh)
setenv CC  "cc"
setenv CXX "CC"
setenv CPPFLAGS "-I/netopt/stlport/3.01"

(if you are using sh)
CC="cc"  ;  export CC
CXX="CC" ;  export CXX
CPPFLAGS="-I/netopt/stlport/3.01" ;  export CPPFLAGS
</pre>
<p>Sunpro C++ 5.0: 
<pre>
(if you are using csh or tcsh)
setenv CC  "/netopt/SUNWspro6/bin/cc"
setenv CXX "/netopt/SUNWspro6/bin/CC"

(if you are using sh)
CC="/netopt/SUNWspro6/bin/cc"  ;  export CC
CXX="/netopt/SUNWspro6/bin/CC" ;  export CXX
</pre>
<p>Then, run &quot;./<i>configure</i>&quot;. 
<p>&nbsp; 
<h3>Background</h3>
<p>This installation procedure uses the GNU <a href="http://sunland.gsfc.nasa.gov/info/autoconf/Top.html">autoconf</a> 
  tool to automatically generate compiler-specific header files like <i>"ncbiconf.h"</i> 
  and even makefiles that would work for the given platform. 
<p>
	 Usually, an external user will generate <i>"ncbiconf.h"</i> header specific
	 for his platform by merely executing <i>"configure"</i> script
	 from this directory using "sh" command interpretator(located in
	 <i>"/bin"</i> directory on practically all UNIX systems).
	 There is also a way to run this script for PC compilers like
	 MSVC++ -- if one has a "sh"(or
	 <a href="http://www.lns.cornell.edu/public/COMP/info/bash/bashref_toc.html">"bash"</a>)
	 <a href="http://www.gci-net.com/~users/c/cteeple/windowsnttrueshells.htp">emulator for MS Windows</a>.
	 Script <i>"configure.ms"</i> sets MSVC++-specific environment variables/paths
	 and then runs the original <i>"configure"</i> script.
	 The resultant <i>"ncbiconf.h"</i> will be automagically copied to directory
	 <i>"<b>projects/</b>corelib/include/"</i>.

	 
<p> You can specify the C and C++ compilers and theirs flags by setting environment 
  variables <a href="http://sunland.gsfc.nasa.gov/info/autoconf/Preset_Output_Variables.html"><i>CC, 
  CFLAGS, CXX, CXXFLAGS and CPPFLAGS</i></a> (before running the <i>"configure"</i> 
  script).
<p><br>
  <br>
<a name="ref_PreGen"><h2>Pre-generated configuration headers</h2></a>

	 <p>
	 For the platforms that do not have "sh"(or at least "bash") installed
	 by default we ship pre-generated(as for e.g. MSVC++ 5.0 on MS Windows)
	 or hand-made(for, maybe, Mac) configuration headers:
	 <ul>
		<li> <i>"ncbiconf.ms5"</i> -- for MSVC++ 5.0 on PC
		(generated by <i>"configure.ms 5"</i>)
		<li> <i>"ncbiconf.ms6"</i> -- for MSVC++ 6.0 on PC
		(generated by <i>"configure.ms 6"</i>)
	 </ul>
	 

	 <br>
	 <a name="ref_Compilers"><h2>List of supported compilers</h2></a>

	 <p>
	 As for now, at least the following compilers give enough support
	 (as concerns to the C++ and STL implementation) to build NCBI C++
	 libraries and tools:
	 <ul>
		<li> MSVC++ 5.XX for MS Windows on PC
		<li> MSVC++ 6.XX for MS Windows on PC
		<li> WorkShop Compilers 5.0 for Solaris 2.6 on Sun
		<li> WorkShop Compilers 4.2 for Solaris 2.6 on Sun(with third-party STL)
	 </ul>


	 <br>
	 <hr>
	 <table border=0 width="100%" cellspacing=0>
		<tr>
		  <td><address><a href="mailto:vakatov@ncbi.nlm.nih.gov">Denis Vakatov</a></address></td>
		  <td align=right>($Revision$)</td></tr>
	 </table>
  </body>
</html>
