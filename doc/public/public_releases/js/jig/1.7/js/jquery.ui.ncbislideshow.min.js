(function(c){c.widget("ui.ncbislideshow",{options:{fadeSpeed:500,slideInterval:4E3,currentSlide:1,height:"117px",width:"410px",randomStart:false},_create:function(){this.element.addClass("ui-ncbislideshow").children("ul").addClass("ui-ncbislideshow-slides");this.options.slideCount=this.element.find("ul.ui-ncbislideshow-slides > li").length;this.options.randomStart&&this._setRandomStart();this.element.append(this._generateSkipList());this.element.find("ul.ui-ncbislideshow-slides").height(this.options.height).width(this.options.width);
this.element.find(".ui-ncbislideshow-skip li a:eq("+this.options.currentSlide+")").addClass("active");this.element.find(".ui-ncbislideshow-slides li").hide();this.element.find(".ui-ncbislideshow-slides li:nth-child("+this.options.currentSlide+")").show();this.startAnimation()},_setRandomStart:function(){this.element.ncbislideshow("option","currentSlide",Math.floor(Math.random()*this.options.slideCount+1))},startAnimation:function(){var a=this;this.element.find("span.ui-icon").addClass("ui-icon-pause").removeClass("ui-icon-play").attr("title",
"click to pause");this.options.animTimeout=setTimeout(function(){a._rotateSlides()},this.options.slideInterval)},stopAnimation:function(){this.element.find("span.ui-icon").addClass("ui-icon-play").removeClass("ui-icon-pause").attr("title","click to play");clearTimeout(this.options.animTimeout);delete this.options.animTimeout},_rotateSlides:function(){this._advanceSlide();this.startAnimation()},_advanceSlide:function(){var a=this.options,b=this.element;if(a.currentSlide>=this.options.slideCount)a.currentSlide=
1;else a.currentSlide++;b.find(".ui-ncbislideshow-slides li:visible").fadeOut(a.fadeSpeed);b.find(".ui-ncbislideshow-slides li:nth-child("+a.currentSlide+")").fadeIn(a.fadeSpeed);b.find(".ui-ncbislideshow-skip > li > a").removeClass("active");b.find(".ui-ncbislideshow-skip li a:eq("+a.currentSlide+")").addClass("active")},skiptoSlide:function(){var a=this.options,b=this.element;b.find(".ui-ncbislideshow-slides li:visible").fadeOut(a.fadeSpeed);b.find(".ui-ncbislideshow-slides li:nth-child("+a.currentSlide+
")").fadeIn(a.fadeSpeed);b.find(".ui-ncbislideshow-skip > li > a").removeClass("active");b.find(".ui-ncbislideshow-skip li a:eq("+a.currentSlide+")").addClass("active");if(this.options.animTimeout){this.stopAnimation();this.startAnimation()}},_generateSkipList:function(){var a=this,b=this.options,g=c("<a>").attr("href","#").attr("tabindex","-1").append(c("<span>").attr("title","click to pause").addClass("ui-icon ui-icon-pause")).bind("click",function(d){b.animTimeout?a.stopAnimation():a.startAnimation();
d.preventDefault()}),f=c("<ul>").width(b.width).addClass("ui-ncbislideshow-skip").append(c("<li>").addClass("ui-ncbislideshow-playPause").append(g));this.element.find("ul.ui-ncbislideshow-slides > li").each(function(d){var e=d+1;d=c("<a>"+e+"</a>").attr("href","#").attr("tabindex","-1").bind("click",function(h){if(a.options.currentSlide!==e){a.options.currentSlide=e;a.skiptoSlide();h.preventDefault()}});f.append(c("<li>").append(d))});return f},destroy:function(){this.element.find(".ui-ncbislideshow-slides li").show();
this.stopAnimation();this.element.children(".ui-ncbislideshow-skip").remove();this.element.removeClass("ui-ncbislideshow").children("ul").removeClass("ui-ncbislideshow-slides");c.Widget.prototype.destroy.apply(this,arguments)}});c.ui.ncbislideshow.prototype.version="2.0"})(jQuery);
