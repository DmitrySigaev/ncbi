<!--#set var="TITLE" value="NCBI C++ Object Manager library" -->
<!--#set var="DOCROOT" value="../.." -->
<!--#include virtual="../../ssi/header.shtml" -->


<div align="Center">
<h1>Setup the framework for the C++ <i>Object Manager</i> learning task</h1>
</div>

<h2>Starting point</h2>
<p>
To jump-start your first project utilizing the new C++
<var>Object Manager </var> in the C++ Toolkit framework on a UNIX platform,
we suggest using <tt>new_project.sh</tt> shell script, which will create
a sample application and a makefile:
</p>

<ol>
<li>
  Create a new project called <i>task</i> in the folder <i>task</i>
  using <tt>new_project.sh</tt> shell script (this will create the folder, the source file and the makefile):
  <pre>
  $NCBI/c++/scripts/new_project.sh <i>task</i> app/objmgr
  </pre>
</li>
<li>
  Build the sample project and run the application:
  <pre>
  cd <i>task</i>
  make -f Makefile.<i>task</i>_app
  ./<i>task</i> -gi 333
  </pre>
The output should look like this:
<pre>
  First ID:  emb|CAA23443.1|
  Sequence:  length=263,  data=MARFLGLCTW
  # of descriptions:  2
  # of features:
     [whole]           Any:    2
     [whole]           Genes:  0
     [0..9]            Any:    2
     [0..9, TSE-only]  Any:    2
  # of alignments:
     [whole]           Any:    0
  Done
</pre>
</li>
<li>
Now you can go ahead and convert the sample code in the <tt>task.cpp</tt>
into  the code that performs your learning task.
</li>
</ol>






<h2>How to convert the test application into CGI one?</h2>
<p>
It is a good idea to create another application, based on your original test.
In order to do this:
</p>
<ol>
  <li>
  Create copy of the source (<i>task.cpp</i>) and makefile (<i>Makefile.task_app</i>)
  <pre>
  cp task.cpp <b>task_cgi.cpp</b>
  cp Makefile.task_app <b>Makefile.task_cgiapp</b>
  </pre>
  </li>
  <li>
  Edit the makefile for the CGI application (<i>Makefile.task_cgiapp</i>):
  change application name, name of the source file,  add <tt>cgi</tt> libraries:
  <pre>
  APP = <b>task.cgi</b>
  SRC = <b>task_cgi</b>
  LIB = xobjmgr id1 seqset $(SEQ_LIBS) pub medline biblio general \
      xser <b>xhtml xcgi</b> xutil xconnect xncbi
  LIBS = $(NCBI_C_LIBPATH) $(NCBI_C_ncbi) <b>$(FASTCGI_LIBS)</b> $(NETWORK_LIBS) $(ORIG_LIBS)
  </pre>
  </li>
  <li>
  Build the project (at this time it is not a CGI application yet):
  <pre>
  make -f Makefile.<i>task_cgiapp</i>
  </pre>
  </li>
  <li>
  Convert <i>task_cgi.cpp</i> into a CGI application.
  </li>
</ol>






<h2>How to convert CGI application into FCGI one?</h2>
<p>
Edit the CGI project makefile - <i>Makefile.task_cgiapp</i>:
</p>
<ol>
  <li>
Replace <tt>xcgi</tt> library by <tt>xfcgi</tt> one in the <tt>LIB=...</tt> section.
  <pre>
  LIB = xobjmgr id1 seqset $(SEQ_LIBS) pub medline biblio general \
      xser xhtml <b>xfcgi</b> xutil xconnect xncbi
  </pre>
  </li>
  <li>
Add the path to Fast-CGI header files to compilation flags: 
<pre>
CPPFLAGS =  <b>$(FASTCGI_INCLUDE)</b>
</pre>
  </li>
</ol>





<!--#include virtual="../../ssi/footer.shtml" -->
