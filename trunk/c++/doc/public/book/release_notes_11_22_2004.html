<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Release Notes (November 22, 2004) - The NCBI C++ Toolkit Book [Internet] - NCBI</title><meta name="description" content="A comprehensive manual on the NCBI C++ toolkit, including its design and development framework, a C++ library reference, software examples and demos, FAQs and release notes." /><meta name="robots" content="index,nofollow,noarchive" /><meta name="page_id" content="release_notes_11_22_2004" /><meta name="page_type" content="chapter" /><meta name="ncbipopper" content="triggerPosition:'bottom left',destPosition:'top left',openEvent:'click',closeEvent:'click'" /><script type="text/javascript" src="js/jig/1.7/js/jig.min.js"></script><script type="text/javascript" src="js/toolkitSymbolSearch.js"></script><link type="text/css" rel="stylesheet" href="css/ptbooks.css" /><link type="text/css" rel="stylesheet" href="css/toolkit.css" /></head><body><div class="grid no_max_width"><div class="col twelve_col nomargin shadow"><div class="content"><div class="col eight_col"><div class="nvgtn"><a href="#__nav_cntnt" class="jig-ncbipopper">Contents â–¾</a><div style="display:none;width:700px;height:500px;overflow:auto;" id="__nav_cntnt"><a class="right" href="toc.html">Table of Contents Page</a><ul class="simple-list"><li class="half_rhythm"><a href="toolkit.fm.html">Book Information</a></li><li class="half_rhythm"><a href="part1.html">Part 1. Overview</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_intro.html">1. Introduction to the C++ Toolkit</a></li><li class="half_rhythm"><a href="ch_start.html">2. Getting Started</a></li></ul></li><li class="half_rhythm"><a href="part2.html">Part 2. Development Framework</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_getcode_svn.html">3. Retrieve the Source Code (FTP and Subversion)</a></li><li class="half_rhythm"><a href="ch_config.html">4. Configure, Build, and Use the Toolkit</a></li><li class="half_rhythm"><a href="ch_build.html">5. Working with Makefiles</a></li><li class="half_rhythm"><a href="ch_proj.html">6. Project Creation and Management</a></li><li class="half_rhythm"><a href="ch_style.html">7. Programming Policies and Guidelines</a></li></ul></li><li class="half_rhythm"><a href="part3.html">Part 3. C++ Toolkit Library Reference</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_core.html">8. Portability, Core Functionality and Application Framework</a></li><li class="half_rhythm"><a href="ch_conn.html">9. Networking and IPC</a></li><li class="half_rhythm"><a href="ch_dbapi.html">10. Database Access - SQL, Berkley DB</a></li><li class="half_rhythm"><a href="ch_cgi.html">11. CGI and Fast-CGI </a></li><li class="half_rhythm"><a href="ch_html.html">12. HTML</a></li><li class="half_rhythm"><a href="ch_ser.html">13. Data Serialization (ASN.1, XML)</a></li><li class="half_rhythm"><a href="ch_datamod.html">14. Biological Sequence Data Model</a></li><li class="half_rhythm"><a href="ch_objmgr.html">15. Biological Object Manager</a></li><li class="half_rhythm"><a href="ch_blast.html">16. BLAST API</a></li><li class="half_rhythm"><a href="ch_dataaccess.html">17. Access to NCBI data</a></li><li class="half_rhythm"><a href="ch_algoalign.html">18. Biological Sequence Alignment</a></li><li class="half_rhythm"><a href="ch_gui.html">19. GUI and Graphics</a></li><li class="half_rhythm"><a href="ch_boost.html">20. Using the Boost Unit Test Framework</a></li></ul></li><li class="half_rhythm"><a href="part4.html">Part 4. Wrappers for 3rd-Party Packages</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_xmlwrapp.html">21. XmlWrapp (XML parsing and handling, XSLT, XPath)</a></li></ul></li><li class="half_rhythm"><a href="part5.html">Part 5. Software</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_debug.html">22. Debugging, Exceptions, and Error Handling</a></li><li class="half_rhythm"><a href="ch_grid.html">23. Distributed Computing</a></li><li class="half_rhythm"><a href="ch_app.html">24. Applications</a></li><li class="half_rhythm"><a href="ch_demo.html">25. Examples and Demos</a></li><li class="half_rhythm"><a href="ch_res.html">26. C Toolkit Resources for C++ Toolkit Users</a></li></ul></li><li class="half_rhythm"><a href="part6.html">Part 6. Help and Support</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_browse.html">27. NCBI C++ Toolkit Source Browser</a></li><li class="half_rhythm"><a href="ch_devtools.html">28. Software Development Tools</a></li><li class="half_rhythm"><a href="ch_xmlauthor.html">29. XML Authoring using Word</a></li><li class="half_rhythm"><a href="ch_faq.html">30. FAQs, Useful Documentation Links, and Mailing Lists</a></li></ul></li><li class="half_rhythm"><a href="part7.html">Part 7. Library and Applications Configuration</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_libconfig.html">31. Library Configuration</a></li></ul></li><li class="half_rhythm"><a href="part8.html">Release Notes</a><ul class="simple-list"><li class="half_rhythm"><a href="release_notes.html">Release Notes (Version 9, May 2012)</a></li><li class="half_rhythm"><a href="release_notes_7-05_2011.html">Release Notes (Version 7, May 2011)</a></li><li class="half_rhythm"><a href="release_notes_06_29_2010.html">Release Notes (June, 2010)</a></li><li class="half_rhythm"><a href="release_notes_05_15_2009.html">Release Notes (May, 2009)</a></li><li class="half_rhythm"><a href="release_notes_12_24_2008.html">Release Notes (December, 2008)</a></li><li class="half_rhythm"><a href="release_notes_12_31_2008.html">Release Notes (March, 2008)</a></li><li class="half_rhythm"><a href="release_notes_08_27_2007.html">Release Notes (August, 2007)</a></li><li class="half_rhythm"><a href="release_notes_03_12_2007.html">Release Notes (March, 2007)</a></li><li class="half_rhythm"><a href="release_notes_08_14_2006.html">Release Notes (August, 2006)</a></li><li class="half_rhythm"><a href="release_notes_04_30_2006.html">Release Notes (April 30, 2006)</a></li><li class="half_rhythm"><a href="release_notes_12_31_2005.html">Release Notes (December 31, 2005)</a></li><li class="half_rhythm"><a href="release_notes_10_03_2005.html">Release Notes (August, 2005)</a></li><li class="half_rhythm"><a href="release_notes_05_05_2005.html">Release Notes (April, 2005)</a></li><li class="half_rhythm"><a href="release_notes_03_09_2005.html">Release Notes (February, 2005)</a></li><li class="half_rhythm"><a href="release_notes_11_22_2004.html">Release Notes (November 22, 2004)</a></li><li class="half_rhythm"><a href="release_notes_10_2_2004.html">Release Notes (October 2, 2004)</a></li><li class="half_rhythm"><a href="release_notes_7_8_2004.html">Release Notes (July 8, 2004)</a></li><li class="half_rhythm"><a href="release_notes_april_16_2004.html">Release Notes (April 16, 2004)</a></li><li class="half_rhythm"><a href="release_notes_12_08_2003.html">Release Notes (December 8, 2003)</a></li><li class="half_rhythm"><a href="release_notes_08_01_2003.html">Release Notes (August 1, 2003)</a></li></ul></li><li class="half_rhythm"><a href="app1.appendix1.html">Appendix - Books and Styles</a></li></ul></div><div class="pagination"><a class="pagelink active prev" title="Previous page" href="release_notes_03_09_2005.html">&lt; Prev</a><a class="pagelink active next" title="Next page" href="release_notes_10_2_2004.html">Next &gt;</a></div></div><div class="meta_content"><h1><span class="title">Release Notes (November 22, 2004)</span></h1></div><div class="body_content"><div class="sec"><ul><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.download_loc_11">Download Location</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.source_archive_">Source Archive Contents</a>
					<ul><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.source_code_11_">Source Code Archives</a></p></li></ul>
				</p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.new_development">New Development</a>
					<ul><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.corelib_11_22_2">CORELIB -- Portability and Application Framework</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.connect_11_22_2">CONNECT -- Data streaming, Networking, and Dispatching</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.util_comp_11_22">UTIL -- Miscellaneous Low-Level APIs</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.serial_11_22_20">SERIAL -- Data Serialization (ASN.1, XML)</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.datatool_11_22_">DATATOOL -- Code Generator and Data Converter Tool</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.cgi_11_22_2004">CGI  --  CGI and Fast-CGI Application Framework</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.html_11_22_2004">HTML -- HTML Generation Library</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.berkeley_dbapi_">Berkeley DB API (bdb) -- Much Enriched C++ API Based On BerkeleyDB</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.dbapi_11_22_200">DBAPI -- Generic SQL Database Connectivity</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.algoalign_11_22">ALGO/ALIGN -- Generic Alignment Algorithms</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.blast_11_22_200">BLAST</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.alnmgr_11_22_20">ALNMGR -- Bio-sequence Alignment Manager</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.bioobjects_11_2">BIO-OBJECTS -- Bio-Object Specific Utility Functions (Not Involving OM++)</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.om_11_22_2004">OM++ -- Object Manager -- For Retrieving and Processing Bio-Objects</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.omlr_11_22_2004">OM++ LOADERS/READERS -- Data Retrieval Libraries for OM++</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.id2_11_22_2004">ID2</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.biotools_11_22_">BIO-TOOLS</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.algo_phy_11_22_">ALGO/PHY_TREE -- Phylogenetic and bio tree algorithms</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.bfunix_11_22_20">BUILD FRAMEWORK (UNIX)</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.ptbdotnet_11_22">PTB -- Project Tree Builder for MSVC++ .NET</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.thirdpp_11_22_2">3RD-PARTY PACKAGES</a></p></li></ul>
				</p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.apps_11_22_2004">APPLICATIONS</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.documentation_1">Documentation</a>
					<ul><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.doc_loc_11_22_2">Document Location</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.doc_changes_11_">Document Content</a></p></li></ul>
				</p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.build_macos_11_">Building on the MacOS</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.platforms_11_22">Platforms (OS's, compilers used inside NCBI)</a>
					<ul><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.platform_unix_1">Unix</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.platform_window">MS Windows</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.platform_mac_11">Mac OS X</a></p></li></ul>
				</p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.caveats_11_22_2">Caveats and Hints</a>
					<ul><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.macos_10x_11_22">MacOS 10.X / CodeWarrior 9.1</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.macos_10_X_11_2">MacOS 10.2/GCC 3.3</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.gcc_2_95_3_11_2">GCC 2.95</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.gcc_3_0_4_11_22">GCC 3.0.4</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.gcc_3_3_11_22_2">GCC 3.3</a></p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.gcc_3_4_11_22_2">GCC 3.4</a></p></li></ul>
				</p></li><li><p><a href="release_notes_11_22_2004.html#release_notes_11_22_2004.last_update_11_">Last Updated</a></p></li></ul></div><div class="sec" id="release_notes_11_22_2004.1"><h2><span class="title">Release Notes (November 22, 2004)</span></h2><div class="sec" id="release_notes_11_22_2004.download_loc_11"><h3><span class="title">Download Location</span></h3><p>
				<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2004/Nov_2004/">ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2004/Nov_30_2004/</a>
			</p></div><div class="sec" id="release_notes_11_22_2004.source_archive_"><h3><span class="title">Source Archive Contents</span></h3><div class="sec" id="release_notes_11_22_2004.source_code_11_"><h4><span class="title">Source Code Archives</span></h4><ul><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_unix--Nov_30_2004.tar.gz</span>-- for UNIX'es (see the list of UNIX flavors below) and MacOSX/GCC</p></li><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_unix--Nov_30_2004.gtar.gz</span>-- for UNIX'es (see the list of UNIX flavors below) and MacOSX/GCC</p></li><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_win--Nov_30_2004.exe</span>-- for MS-Windows / MSVC++ 7.1 (self-extracting)</p></li><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_win--Nov_30_2004.zip</span>-- for MS-Windows / MSVC++ 7.1</p></li><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_mac_cw--Nov_30_2004.tgz</span>-- for MacOS 10.3.4 / CodeWarrior DevStudio for MacOS 9.2</p></li><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_mac_xcode--Nov_30_2004.tgz</span>-- for MacOS 10.3.4 / xCode 1.[1-5]</p></li><li><p>
							<span class="nctnt ncbi-path">ncbi_cxx_mac_gcc--Nov_30_2004.tar.gz</span>-- for MacOS 10.2, 10.3.4 / GCC 3.3.2</p></li></ul><p>
					<span class="nctnt highlight">The sources correspond to the NCBI production tree sources from patch "RELEASE_NOV_2004", which in turn corresponds to the development tree sources from October 26-29, 2004.</span>
				</p></div></div><div class="sec" id="release_notes_11_22_2004.new_development"><h3><span class="title">New Development</span></h3><p>
				<span class="nctnt highlight">Some of the new development that may introduce potentially backward-incompatible changes are marked with an asterisk(*).</span>
			</p><div class="sec" id="release_notes_11_22_2004.corelib_11_22_2"><h4><span class="title">CORELIB -- Portability and Application Framework</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CNcbiApplication</span> -- allow to treat standard I/O as binary on MS Windows. CArg_***File -- do set standard I/O streams to "binary" mode if so specified by the argument's description. </p></dd><dt>2</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CNcbiApplication</span> -- implemented setting up logfile from configuration file. Gave access to the logfile name to allow switching of diagnostics handlers.</p></dd><dt>3</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CNcbiApplication</span> -- changed standard exit codes to positive values. Exit codes must be in the range 0..255.</p></dd><dt>4</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">NCBI_GetRunpath()</span> -- added implementation for MS-Windows.</p></dd><dt>5</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">StringToUInt8_DataSize()</span> -- new function to converts data size constants (100MB, 256KB) to integer.</p></dd><dt>6</dt><dd><p class="no_top_margin">CTime -- added new format letters support:'d' - day without leading zero,  'l' - milliseconds,  'r' - microseconds,  'p' and 'P' - AM/PM.</p></dd><dt>7</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CTimeSpan</span> -- new string conversion function AsSmartString().</p></dd><dt>8</dt><dd><p class="no_top_margin">(*) <span class="nctnt ncbi-class">CTimeSpan</span> -- renamed <span class="nctnt ncbi-func">GetTotal*()</span> -&gt; <span class="nctnt ncbi-func">GetComplete*()</span>. </p></dd><dt>9</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CStopWatch</span>  -- added operator &lt;&lt; to dump current stopwatch time to an output stream.</p></dd><dt>10</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CDirEntry</span> -- always delete trailing path separator except some special cases, like root dir and DOS disk names. Fixed <span class="nctnt ncbi-func">NormalizePath()</span> to prevent crashing on some path strings and corrected for the processing of root dirs variations.</p></dd><dt>11</dt><dd><p class="no_top_margin">Added ERound and ESign enumerators to use instead of senseless booleans.</p></dd><dt>12</dt><dd><p class="no_top_margin">(*) Case-insensitive comparisons now always treat letters on lowercase, in keeping with most (all?) standard library implementations.</p></dd><dt>13</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CDiagCompileInfo</span> -- new class to collect compile time information (__FILE__LINE__ and MODULE_NAME at this time). <span class="nctnt ncbi-macro">DIAG_COMPILE_INFO</span> -- a convenience macro to make an instance of <span class="nctnt ncbi-class">CDiagCompileInfo</span>. <span class="nctnt ncbi-func">CNcbiDiag::CNcbiDiag*()</span> and <span class="nctnt ncbi-func">CException::CException*()</span> now accept <span class="nctnt ncbi-class">CDiagCompileInfo</span> instead of __FILE__ and __LINE__.</p></dd><dt>14</dt><dd><p class="no_top_margin">Added functionality to set/get module, class and function name in <span class="nctnt ncbi-class">CNcbiDiag</span> and <span class="nctnt ncbi-class">CException</span>.</p></dd><dt>15</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">SetDiagFilter()</span> -- new function to setup diagnostic messages filtering based on source file path and/or module, class and function name</p></dd><dt>16</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CNcbiApplication</span> -- understands [DIAG].*_FILTER entries in config file to specify the diagnostic filtering rules.</p></dd><dt>17</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CConfig</span> -- new class to conveniently access a hierarchical tree of configuration parameters.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.connect_11_22_2"><h4><span class="title">CONNECT -- Data streaming, Networking, and Dispatching</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added client API for the NCBI NetCache server.</p></dd><dt>2</dt><dd><p class="no_top_margin">ncbi_buffer.[ch] -- new methods <span class="nctnt ncbi-func">BUF_Erase()</span>, <span class="nctnt ncbi-func">BUF_Append()</span>, and <span class="nctnt ncbi-func">BUF_Prepend()</span>. Append/Prepend allow to insert a chunk of data into the buffer without making a copy of the data.</p></dd><dt>3</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CConn_Streambuf</span> -- added tracking of input position, for <span class="nctnt ncbi-func">std::istream::tellp()</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CONNECT_Init()</span> -- now can be set up to be called automatically whenever a CONN-based C++ stream is constructed.</p></dd><dt>5</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">MEMORY_CreateConnectorEx()</span>, <span class="nctnt ncbi-class">CConn_MemoryStream</span> -- new constructors, to allow building the connector on top of a BUF for the cases when an arbitrary data area is to be converted to an input/output stream in-place. </p></dd><dt>6</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CConn_MemoryStream::ToString()</span> -- added.</p></dd><dt>7</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">DisableOSSendDelay()</span> -- new method for <span class="nctnt ncbi-class">CSocket</span> and SOCK API, to allow turning off the Nagle algorithm.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.util_comp_11_22"><h4><span class="title">UTIL -- Miscellaneous Low-Level APIs</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CStdPoolOfThreads</span> -- fixed potential race conditions.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.serial_11_22_20"><h4><span class="title">SERIAL -- Data Serialization (ASN.1, XML)</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Corrected writing namespace name of NamedType in XML output stream.</p></dd><dt>2</dt><dd><p class="no_top_margin">RPC clients (for ID1, Entrez2, etc.) propagate persistent low-level exceptions.</p></dd><dt>3</dt><dd><p class="no_top_margin">Fixed the "delayed" object parsing. Allow to disable delayed parsing via registry or environment.</p></dd><dt>4</dt><dd><p class="no_top_margin">Provided thread-safe initialization in <span class="nctnt ncbi-func">s_SerFlags()</span>.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.datatool_11_22_"><h4><span class="title">DATATOOL -- Code Generator and Data Converter Tool</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Improved diagnostics in datatool when parsing ASN.1 spec that contains an identifier with a wrong name (DATATOOL crashed formerly with no meaningful message).</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.cgi_11_22_2004"><h4><span class="title">CGI -- CGI and Fast-CGI Application Framework</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Improve handling of unopenable FastCGI watch files.</p></dd><dt>2</dt><dd><p class="no_top_margin">Ensure that FastCGI IPC file descriptors don't get propagated to child processes, which could do no good with them.</p></dd><dt>3</dt><dd><p class="no_top_margin">CCgiApplication -- standard I/O streams to work in binary mode, to override MS-Windows default that opens them in text mode.</p></dd><dt>4</dt><dd><p class="no_top_margin">CGI API's exceptions -- re-structurize to distinguish between user- and server- errors by the exception type.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.html_11_22_2004"><h4><span class="title">HTML -- HTML Generation Library</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CHTMLText</span> -- allow to disable internal buffering, at the cost of losing some functionality related to the recursive tag mapping;  "disabled" is the default now.</p></dd><dt>2</dt><dd><p class="no_top_margin">Modified <span class="nctnt ncbi-func">StripTags()</span> to strip mapping tags &lt;@...@&gt; before stripping HTML tags. Added possibility to remove single closing tags.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.berkeley_dbapi_"><h4><span class="title">Berkeley DB API (bdb) -- Much Enriched C++ API Based On BerkeleyDB</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CBDB_Cache</span> - added option to run a maintenance thread to do garbage collection (remove obsolete cache elements) and to cleanup old unused transaction log files. Naturally, it is available only in multi-thread applications.</p></dd><dt>2</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CBDB_Cache</span> - implemented flexible (traffic based) transaction checkpoint. Improved database stability.</p></dd><dt>3</dt><dd><p class="no_top_margin">Fixed bug in the <span class="nctnt ncbi-class">IWriter</span> implementation provided by <span class="nctnt ncbi-class">CBDB_Cache</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CBDB_Cache</span> - added new class factory configuration options to control the use of transactions and the level of I/O syncronicity.</p></dd><dt>5</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CBDB_Env::SetLogFileMax()</span> -- new method, to limit the size of log files.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.dbapi_11_22_200"><h4><span class="title">DBAPI -- Generic SQL Database Connectivity</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">By default, rename DBLIB symbols in built-in FreeTDS in order to avoid a potential name clash with Sybase DBLIB (when linking the two statically together).</p></dd><dt>2</dt><dd><p class="no_top_margin">Fixed bug in binding NULL-valued CDB_Char, CDB_VarChar, CDB_Binary and CDB_VarBinary.</p></dd><dt>3</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CVariant</span> - Added <span class="nctnt ncbi-func">SetNull()</span> method.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.algoalign_11_22"><h4><span class="title">ALGO/ALIGN -- Generic Alignment Algorithms</span></h4><p>New general purpose tree algorithms:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CBandAligner</span> -- a new class, derived from <span class="nctnt ncbi-class">CNWAligner</span> to provide a version of the band-limited global alignment algorithm. The applicability of the algorithm is limited to a special but important case when the upper band limit can be given prior to running the algorithm. The running time and space are then both have an order of band multiplied by the sequence length.</p></dd><dt>2</dt><dd><p class="no_top_margin">A strategy of cutting short terminal exons in splign has been adjusted.</p></dd><dt>3</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CCompartmentFinder</span> -- a small intron length penalty was introduced to favor more compact models over more stretched ones.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.blast_11_22_200"><h4><span class="title">BLAST</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">(*) Removal of unneeded functionality from the BlastSeqSrc API and addition of the IBlastSeqInfoSrc interface.</p></dd><dt>2</dt><dd><p class="no_top_margin">Bug fixes to gapped blastx/tblastn and ungapped blastx/tblastn for sum statistics.</p></dd><dt>3</dt><dd><p class="no_top_margin">(*) Updated code to use new version of scoremat.asn specification</p></dd><dt>4</dt><dd><p class="no_top_margin">Added structure group customization to PSSM engine to ignore query sequence. Improved input data validation and error handling in PSSM engine.</p></dd><dt>5</dt><dd><p class="no_top_margin">Made consistent the sorting of HSPs on entrance and exit of all public functions after the preliminary gapped alignment. Also, HSPs are sorted by score (not by e-value) after traceback.</p></dd><dt>6</dt><dd><p class="no_top_margin">Moved RPS blast initialization into the BLAST engine instead of forcing applications to manually do it, added support for concatenated queries to RPS blast.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.alnmgr_11_22_20"><h4><span class="title">ALNMGR -- Bio-sequence Alignment Manager</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CAlnMap</span>: <ul><li><p> Fixed the support for unaligned regions in GetRawSeg.</p></li><li><p> Fixed the range of the Unaligned chunk in case it spans over multiple gaps.</p></li><li><p> Extended Get{Aln,Seq}Chunks() with the ability to obtain [implicit] unaligned  regions.</p></li><li><p> Completed AlnRange swapping.</p></li><li><p> Flags for the new functionality -- fUnaligned and fAddUnalignedChunks.</p></li></ul>
						</p></dd><dt>2</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CAlnVec::GetColumnVector()</span> -- added argument check.  <span class="nctnt ncbi-func">CAlnVec::GetAlnSeqString()</span> -- added translation.</p></dd><dt>3</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CAlnMix</span> -- the use (or not) of OM++ now only depends on whether a scope was provided at construction time.</p></dd><dt>4</dt><dd><p class="no_top_margin">CAlnMix::fPreserveRows -- new flag.</p></dd><dt>5</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CAlnVwr</span> -- PopsetStyle flags changed.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.bioobjects_11_2"><h4><span class="title">BIO-OBJECTS -- Bio-Object Specific Utility Functions (Not Involving OM++)</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CSeq_id</span> -- support several new prefixes in <span class="nctnt ncbi-func">IdentifyAccession()</span> method. </p></dd><dt>2</dt><dd><p class="no_top_margin">Splitted id2 and seqsplit libraries </p></dd><dt>3</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CSeq_loc_CI</span> -- added <span class="nctnt ncbi-func">IsSetStrand()</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CSeq_loc</span> -- added <span class="nctnt ncbi-func">ChangeToMix()</span>, <span class="nctnt ncbi-func">ChangeToPackedInt()</span>.</p></dd><dt>5</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CDense_seg::FillUnaligned()</span> -- new method, to create a dense-seg with all unaligned pieces (implicit inserts), if any, added between segments.</p></dd><dt>6</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CDense_seg::FromTranscript()</span> -- new method, to facilitate initialization from the alignment transcript string.</p></dd><dt>7</dt><dd><p class="no_top_margin">Auth-list.names marked for delayed parsing to reduce memory usage by entries with huge publication sets.</p></dd><dt>8</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CSeq_id_Handle</span> -- new methods <span class="nctnt ncbi-func">GetMapper()</span> and <span class="nctnt ncbi-func">MatchesTo()</span>, fixed the matching of Genbank, Embl, and Ddbj Seq-ids.</p></dd><dt>9</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CSeq_id_Mapper::GetInstance()</span> - made thread-safe.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.om_11_22_2004"><h4><span class="title">OM++ -- Object Manager -- For Retrieving and Processing Bio-Objects</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added mapping of code-breaks and anticodons in feature iterator.</p></dd><dt>2</dt><dd><p class="no_top_margin">Preserve fuzz from the original location or use it to indicate truncated intervals in annotation iterators.</p></dd><dt>3</dt><dd><p class="no_top_margin">Added flag for handling unresolved IDs (search/ignore/fail) and method for external annotations search in <span class="nctnt ncbi-class">SAnnotSelector</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">Fixed behaviour of <span class="nctnt ncbi-class">CSeq_loc_Mapper</span> to match results produced by iterators.</p></dd><dt>5</dt><dd><p class="no_top_margin">Added new constructors to annotation iterators, marked many constructors and methods as deprecated.</p></dd><dt>6</dt><dd><p class="no_top_margin">Implemented <span class="nctnt ncbi-class">CScope::AddSeq_annot()</span>.</p></dd><dt>7</dt><dd><p class="no_top_margin">Fixed processing of 'partial' flag in mapped features.</p></dd><dt>8</dt><dd><p class="no_top_margin">Features truncated while mapping now get correct Int-fuzz values to mark truncation place.</p></dd><dt>9</dt><dd><p class="no_top_margin">Fixed thread safety in several places:  <span class="nctnt ncbi-func">CAnnot_Index::x_InitIndexTables()</span>, <span class="nctnt ncbi-func">CObjectManager::GetInstance()</span>.</p></dd><dt>10</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">CSeqMap::End()</span> -- fix to allow reverse iteration from the end. </p></dd><dt>11</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-class">CSeqVector</span> -- use 0xff to represent gaps in NCBI2na encoding rather than throw an exception.</p></dd><dt>12</dt><dd><p class="no_top_margin">Added methods for working with gaps in <span class="nctnt ncbi-class">CSeqVector</span>:  <span class="nctnt ncbi-func">IsInGap()</span>, <span class="nctnt ncbi-func">SkipGap()</span>, <span class="nctnt ncbi-func">SkipGapBackward()</span>, <span class="nctnt ncbi-func">GetGapSizeForward()</span>, <span class="nctnt ncbi-func">GetGapSizeBackward()</span>.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.omlr_11_22_2004"><h4><span class="title">OM++ LOADERS/READERS -- Data Retrieval Libraries for OM++</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added support for "orphan" annotations - for annotations-only data loaders.</p></dd><dt>2</dt><dd><p class="no_top_margin">(*) One of overloaded <span class="nctnt ncbi-func">GetRecords()</span> methods was renamed to <span class="nctnt ncbi-func">GetDetailedRecords()</span> to avoid name conflicts.</p></dd><dt>3</dt><dd><p class="no_top_margin">Fixed default implementation of <span class="nctnt ncbi-func">GetIds()</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">Allow the caching ID1 reader to cache intermediate gi.</p></dd><dt>5</dt><dd><p class="no_top_margin">Try to deal with withdrawn and private blobs without exceptions in GenBank loader to reduce problems with old GCC.</p></dd><dt>6</dt><dd><p class="no_top_margin">Added support for SNP_graph annotations.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.id2_11_22_2004"><h4><span class="title">ID2</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">ID2-Reply-Get-Blob-Id.blob-id -- made optional to report errors.</p></dd><dt>2</dt><dd><p class="no_top_margin">(*) SeqSplit specs -- modified to allow splitting non-gi sequences. WARNING: If you use split_cache application you'll have to resplit your data in the cache since SeqSplit specification was changed.</p></dd><dt>3</dt><dd><p class="no_top_margin">ID2S locations and Seq-id selections made consistent and orthogonal.</p></dd><dt>4</dt><dd><p class="no_top_margin">Added support for loading split descriptors in <span class="nctnt ncbi-class">CSeqdesc_CI</span>.</p></dd><dt>5</dt><dd><p class="no_top_margin">Added support for split assembly history.</p></dd><dt>6</dt><dd><p class="no_top_margin">Updated splitter library for new SeqSplit specs.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.biotools_11_22_"><h4><span class="title">BIO-TOOLS</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">sequence::GetTitle</span> -- when generating protein titles, include extra protein names only when the new flag fGetTitle_AllProteins is given.</p></dd><dt>2</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">sequence::GetTitle</span> -- pick gene names more reliably in the case of overlaps.</p></dd><dt>3</dt><dd><p class="no_top_margin">seq_loc_util.[ch]pp -- added seq-loc operations (Add/Subtract/Merge).</p></dd><dt>4</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">TestForOverlap()</span> -- added processing of multi-strand locations.</p></dd><dt>5</dt><dd><p class="no_top_margin">
							<span class="nctnt ncbi-func">TestForOverlap()</span> -- to perform all calculations with Int8 and check for overflow when returning int. <span class="nctnt ncbi-func">x_TestForOverlap()</span> allows to get the Int8 value.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.algo_phy_11_22_"><h4><span class="title">ALGO/PHY_TREE -- Phylogenetic and bio tree algorithms</span></h4><p>
					<span class="nctnt ncbi-class">CBioTree</span>- New node design, improved usability.</p></div><div class="sec" id="release_notes_11_22_2004.bfunix_11_22_20"><h4><span class="title">BUILD FRAMEWORK (UNIX)</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Configure now supports an explicit --without-64 option for use on bi-arch systems that produce 64-bit binaries by default.</p></dd><dt>2</dt><dd><p class="no_top_margin">The Toolkit now automatically regenerates makefiles as needed, so it should generally no longer be necessary to run <span class="nctnt ncbi-app">reconfigure.sh</span> after editing or even adding the configurable ("*.in") makefiles.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.ptbdotnet_11_22"><h4><span class="title">PTB -- Project Tree Builder for MSVC++ .NET</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">PTB to rely more on UNIX makefile tree when generating MSVC projects: parse the contents of <span class="nctnt ncbi-path">Makefile.in</span> and process requested projects and subfolders only.</p></dd><dt>2</dt><dd><p class="no_top_margin">Take into account <span class="nctnt ncbi-var">LIB_OR_DLL</span> flag in makefiles: if a specific project is marked as DLL, then do not build it as static library in the DLL builds. </p></dd><dt>3</dt><dd><p class="no_top_margin">Made it possible to specify which header files go into a specific MSVC project -- the headers can now be listed in the "HeadersInInclude" and "HeadersInSrc" entries of section "[AddToProject]" in <span class="nctnt ncbi-path">Makefile.*.msvc</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">Added dependency on DATATOOL into ASN projects, so they are forced to re-built when DATATOOL changes.</p></dd><dt>5</dt><dd><p class="no_top_margin">Process configurable sources (*.in) a la UNIX "configure" utility.</p></dd><dt>6</dt><dd><p class="no_top_margin">Tune the projects and defines for each build configuration individually and independently of other configurations (so if you have some 3rd-party lib available in only some configurations it will be used in those).</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.thirdpp_11_22_2"><h4><span class="title">3RD-PARTY PACKAGES</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Prepare an easy-to-build bundle of 3rd-party packages (in source codes) for MSVC++, put it to a public FTP along with the NCBI C++ Toolkit sources.</p></dd></dl></div></div><div class="sec" id="release_notes_11_22_2004.apps_11_22_2004"><h3><span class="title">APPLICATIONS</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">NetCache -- new server-side daemon to share temporary data between several hosts. Mostly to be used for keeping CGI session context and immediately reusable (temporary yet expensive to re-calculate) data.</p></dd><dt>2</dt><dd><p class="no_top_margin">AlnVwr (a demo of various alignment viewers to illustrate the usage of <span class="nctnt ncbi-class">CAlnMap</span> and <span class="nctnt ncbi-class">CAlnVec</span>). Added Seq-align as input type; its segs must be of type Dense-seg. Implemented a demo view using the new <span class="nctnt ncbi-class">CAlnPos_CI</span> class.</p></dd><dt>3</dt><dd><p class="no_top_margin">AlnMrg (a demo program to illustrate the usage of <span class="nctnt ncbi-class">CAlnMix</span>). The default output now is Seq-align, but Dense-seg can be chosen by the "-dsout" command-line argument. Added viewers, mostly to be able to view translated Dense_segs (DS + m_Widths).</p></dd><dt>4</dt><dd><p class="no_top_margin">objmgr_demo.<dl class="labeled-list"><dt>a</dt><dd><p class="no_top_margin">Added more options to control demo application:  -range_loc  -overlap  -by_product  -desc_type  -count_subtypes</p></dd><dt>b</dt><dd><p class="no_top_margin"> Added output of <span class="nctnt ncbi-class">CSeq_loc_Mapper</span> result.</p></dd><dt>c</dt><dd><p class="no_top_margin">Added bidirectional tests for <span class="nctnt ncbi-class">CSeqMap_CI</span>.</p></dd><dt>d</dt><dd><p class="no_top_margin">BDB cache options tuned for better performance.</p></dd></dl>
					</p></dd><dt>5</dt><dd><p class="no_top_margin">seqvec_bench.  Test for "block" fetching with GetSeqData().</p></dd><dt>6</dt><dd><p class="no_top_margin">test_objmgr_data[_mt].  Allow showing the processing time in verbose mode.</p></dd><dt>7</dt><dd><p class="no_top_margin">id1_fetch_simple.  Allow to change ID1 service name via command line arguments.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.documentation_1"><h3><span class="title">Documentation</span></h3><div class="sec" id="release_notes_11_22_2004.doc_loc_11_22_2"><h4><span class="title">Document Location</span></h4><p>The documentation is available online at <!--ro--><a href="toc.html">http://www.ncbi.nlm.nih.gov/books/bv.fcgi?call=bv.View..ShowTOC&amp;rid=toolkit.TOC&amp;depth=2</a> as a book titled "The NCBI C++ Toolkit". This is an online searchable book.</p><p>The C++ Toolkit book also provides PDF version of the chapters; although these are not up to date in this release. The PDF version can be accessed by a link that appears on each page.</p><p>The older HTML documentation has been deprecated and is no longer being updated, and  "The NCBI C++ Toolkit" online book at the previously listed URLs is the official documentation.</p></div><div class="sec" id="release_notes_11_22_2004.doc_changes_11_"><h4><span class="title">Document Content</span></h4><p>Documentation has been grouped into chapters and sections that provide a more logical coherence and flow. New sections and paragraphs continue to be added to update and clarify the older documentation or provide new documentation. The chapter titled "Introduction to the C++ Toolkit"  gives an overview of the C++ Toolkit. This chapter contains links to other chapters containing more details on a specific topic and is a good starting point for the new comer.</p><p>The DOXYGEN source browser is used to complement the traditional docs with structured DOXYGEN-generated "Library Reference" ones based on the in-source comments. You can access the DOXYGEN source browser for the NCBI code from:</p><p>
					<a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml/">http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml/</a>
				</p><p>The above link is also available under the "Browsers" that appears on each page.</p><p>You can also access the CVS code repository via a Web interface. These links also appear in the sidebar box on each page.</p><p>A C/C++ Symbol Search query appears on each page of the online Toolkit documentation. You can use this to perform a symbol search on the public or in-house versions of LXR, Doxygen and Library. The Library search runs a CGI script that lists the library name where the symbol (such as function) is defined in.</p><p>The current release notes as well as past release notes are now in an appendix in the C++ Toolkit Book and a link to the current release notes appears on each page of the online Toolkit document.</p></div></div><div class="sec" id="release_notes_11_22_2004.build_macos_11_"><h3><span class="title">Building on the MacOS</span></h3><p>We now build all the libraries and most of the applications including the Genome Workbench (<span class="nctnt ncbi-app">gbench</span>).  We do not build any of the many test or demo apps (except <span class="nctnt ncbi-app">testvalidator</span>).  We also build the FLTK library's GUI editor, <span class="nctnt ncbi-app">fluid</span>.</p><p>All apps are built as application bundles except <span class="nctnt ncbi-app">gbench_plugin_scan</span>  and <span class="nctnt ncbi-app">datatool</span> which are built as command line apps.  Any of the applications can be built as command line apps by tweaking the build scripts or the Codewarrior projects.</p><p>Build procedure is still the same: use an AppleScript editor to open and run the script files makeLibs.met and makeApps.met.  You must use a script editor capable of opening a script file larger than 32K, such as Apple's Script Editor v2.0, or Smile.  Script Editor v1.9 will not work since makeLibs.met just got too big.  The command line tool osascript also works.</p><p>Projects include targets to compile with BSD/Apple headers and libraries and with MSL headers and libraries, but plugins (for gbench) built with MSL do not link properly, and so, because of lack of interest to keep up with changes, some source code does not currently  compile with MSL.  Hopefully this will become easier to work with and get fixed with Codewarrior v.9.</p><p>Targets to be compiled can be controlled by including an empty file or folder in the compilers:mac_prj folder with the name 'Build' followed by the keywords of the targets you want built.  The keywords are: MSL, BSD, Debug and Final.  For example, to build only the BSD Debug targets use: "Build BSD Debug", to build both BSD debug and release (final) versions: "Build BSD".  The default is to build everything.</p><p>If you install the C++ toolkit under a different name than "ncbi_cxx" or in a different location than your home directory, you can edit the  script's properties, pRootFolderName and pRootFolderPath, to override these defaults.  Note: these paths, and those mentioned below, must be entered in mac format (e.g. disk:Users:username:) not Unix format (e.g. <span class="nctnt ncbi-path">/Users/username/</span>).  The disk name (and its following colon) may be omitted.</p><p>Certain third party libraries (see  <a href="release_notes_11_22_2004.html#release_notes_11_22_2004.T1">Table 18</a>) are required to build some parts of the C++ toolkit. The scripts will try and find them if they are in your home directory, or you can specify where they were installed using properties at the beginning of the script.</p><div class="table" id="release_notes_11_22_2004.T1"><h4><span class="label">Table 18</span><span class="title">Third Party Libraries</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Library</th><th align="left" valign="top" rowspan="1" colspan="1">Property</th><th align="left" valign="top" rowspan="1" colspan="1">Example</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-lib">FLTK 1.1.5rc2 (w/ NCBI patches)</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-var">pFLTKRootFolder</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">"usr:local:src:fltk-1.1.5rc2:"</span>
							</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-lib">BerkeleyDB 4.2.52</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-var">pBdbRootFolder</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">"Users:myhome:mylibs:db-4.2.52"</span>
							</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-lib">SQLite 2.8.15</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-var">gSqliteFolder</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">

</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-lib">dlcompat</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-var">pDLRootFolder</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">"usr:"</span>
							</td></tr></tbody></table></div><p>You do not have to build the FLTK or BDB libraries separately.  This is done by the scripts and Codewarrior along with the toolkit libraries.  Just unpack the source bundles in your home directory or where ever you have specified in the appropriate properties.  The root folders for FLTK and BDB do not have to have any particular names.  If there is more than one version the scripts will grab whichever is last alphabetically (e.g. fltk-1.1.4r2 will get used instead of fltk-1.1.3).</p><p>The scripts normally halt on any Codewarrior compilation errors.  If you want them to continue and save errors, set the next script property, pSaveContinueOnErrors, to true.  Compilation errors for a project will be saved in a file in the same folder as the project being built, with a name in the following format: projectName-targetNumber.errs (e.g. xncbi-2.errs).</p><p>The Genome Workbench's configuration file(s) is stored in the users Library:Application Support:gbench folder.</p><p>CFM builds are not supported.  OS 8 or 9 are not supported.  We know 10.2 works.  We think 10.1 still works, and 10.3 might work.</p></div><div class="sec" id="release_notes_11_22_2004.platforms_11_22"><h3><span class="title">Platforms (OS's, compilers used inside NCBI)</span></h3><p>This release was successfully tested on the following platforms -- but may also work on other platforms. Since the previous release, some platforms were dropped from this list, just because we do not use them here anymore, and some were added (these new platforms are highlighted using bold font). Also, it can happen that some projects would not work (or even compile) in the absence of 3rd-party packages, or with older or newer versions of such packages -- in these cases, just skipping such projects (e.g. using flag "-k" for <span class="nctnt ncbi-app">make</span> on UNIX), can get you through.</p><div class="sec" id="release_notes_11_22_2004.platform_unix_1"><h4><span class="title">Unix</span></h4><div class="table" id="release_notes_11_22_2004.T2"><h4><span class="label">Table 19</span><span class="title">Unix OS's and Supported Compilers</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Operating System</th><th align="left" valign="top" rowspan="1" colspan="1">Architecture</th><th align="left" valign="top" rowspan="1" colspan="1">Compilers</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Linux-2.4.23 (w/ LIBC 2.2.5)</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 2.95.3, 3.0.4, 3.4.0</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Linux-2.4.26 (w/ LIBC 2.3.2)</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.4.0</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Linux-2.6.7 (w/ LIBC 2.3.3)</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL/64</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.4.0</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Linux-2.4.23 (w/ LIBC 2.2.5)</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">ICC 8.0</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Solaris-8</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">SPARC</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">WorkShop 6 update 2 C++ 5.3 Patch 111685-13  (64-bit, 32-bit)</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Solaris-8</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">SPARC</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.0.4</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Solaris-9</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">WorkShop 6 update 2 C++ 5.3 Patch 111685-13</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Solaris-9</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.3.3</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">IRIX64-6.5</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">SGI-Mips</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">MIPSpro 7.3.1.2m (64-bit, 32-bit)</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">FreeBSD-4.5</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.0.4</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">FreeBSD-4.10</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">INTEL</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.4.2</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Tru64 (OSF1) V5.1</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">ALPHA</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.3.2</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">Tru64 (OSF1) V5.1</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">ALPHA</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">Compaq C++ V6.5-014</span>
								</td></tr></tbody></table></div></div><div class="sec" id="release_notes_11_22_2004.platform_window"><h4><span class="title">MS Windows</span></h4><div class="table" id="release_notes_11_22_2004.T3"><h4><span class="label">Table 20</span><span class="title">MS Windows and Supported Compilers</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Operating System</th><th align="left" valign="top" rowspan="1" colspan="1">Compilers</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">MS Windows</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">MSVC++ 6.0 Service Pack 5</span>.  No longer supported.</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">MS Windows</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">MSVC++ 7.1</span>. See documentation on <a href="ch_config.html#ch_config.MS_Windows">MS Visual C++.NET</a>.</td></tr></tbody></table></div></div><div class="sec" id="release_notes_11_22_2004.platform_mac_11"><h4><span class="title">Mac OS X</span></h4><div class="table" id="release_notes_11_22_2004.T4"><h4><span class="label">Table 21</span><span class="title">Mac OS, and Supported Compilers</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Operating System</th><th align="left" valign="top" rowspan="1" colspan="1">Compilers</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">MacOS 10.2, 10.3.4</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">GCC 3.3</span>
								</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-monospace">MacOS 10.3.4</span>
								</td><td align="left" valign="top" rowspan="1" colspan="1">
									<span class="nctnt ncbi-app">CodeWarrior 9.2</span>
								</td></tr></tbody></table></div></div></div><div class="sec" id="release_notes_11_22_2004.caveats_11_22_2"><h3><span class="title">Caveats and Hints</span></h3><div class="sec" id="release_notes_11_22_2004.macos_10x_11_22"><h4><span class="title">MacOS 10.X / CodeWarrior 9.1</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Not all of the test or demo applications are built.</p></dd><dt>2</dt><dd><p class="no_top_margin">The source code for the latest release of FLTK (1.1.x), BerkeleyDB (4.x) and SQLite (2.x) should be present. See the  installation instructions for details.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.macos_10_X_11_2"><h4><span class="title">MacOS 10.2/GCC 3.3</span></h4><p>At least the GCC 3.3 update for Dec. 2002 Developers Tools required from Apple.</p></div><div class="sec" id="release_notes_11_22_2004.gcc_2_95_3_11_2"><h4><span class="title">GCC 2.95</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Poor MT-safety record.</p></dd><dt>2</dt><dd><p class="no_top_margin">Relatively incomplete/incorrect (comparing to modern compilers) STL implementation.</p></dd><dt>3</dt><dd><p class="no_top_margin">It is going to be deprecated in NCBI rather soon -- as soon as we have any significant trouble with its maintenance.</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.gcc_3_0_4_11_22"><h4><span class="title">GCC 3.0.4</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Destructor of constructed class member is not called when exception is thrown from a method called from class constructor body (fixed in GCC 3.3).</p></dd><dt>2</dt><dd><p class="no_top_margin">STL stream uses locale in thread unsafe way which may result to segmentation fault when run in multithread mode (fixed in GCC 3.3).</p></dd><dt>3</dt><dd><p class="no_top_margin">Long-file support for C++ streams is disabled/broken (first broken in 3.0, fixed in 3.4).</p></dd></dl></div><div class="sec" id="release_notes_11_22_2004.gcc_3_3_11_22_2"><h4><span class="title">GCC 3.3</span></h4><p>Other than the feature described below, GCC 3.3.2 has been very good for us; it has a lot of very ugly bugs finally fixed.</p><p>Painfully slow linking in debug mode on Linux with GCC-3.3 compiler:<dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Starting with binutils 2.12 linker tries to merge constant/debug strings marked for merging in object files. But it seems it does this job very inefficiently - I've seen messages about it in internet.</p><p>GCC starting with version 3.2 marks section of string constants ready for merging, and also has an option to disable this flag in object files (-fno-merge-constants). Adding this flag to compilation stage allows to avoid slow linking.</p><p>GCC 3.3 also sets merge flag for debug sections and unfortunately there is no option to disable this flag. As a result, linking of debug executables significatly slower than with gcc 3.0.4.</p><p>The slowdown rate depends on size of debug strings section and it's non-linear, so bigger projects will suffer more of this bug (N^2).</p><p>Binutils 2.15 fixes this. The link time still 2 times slower than without symbol merge, but the resultant executable is about two times smaller in size, and no compiler patching is necessary. We are still testing it in-house.</p><p>We had to patch GCC 3.3 in-house with the fix described at <a href="http://lists.boost.org/MailArchives/boost/msg53004.php">http://lists.boost.org/MailArchives/boost/msg53004.php</a>.</p></dd><dt>2</dt><dd><p class="no_top_margin">Long-file support still broken (first broken in 3.1).</p></dd></dl>
				</p></div><div class="sec" id="release_notes_11_22_2004.gcc_3_4_11_22_2"><h4><span class="title">GCC 3.4</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">The "Painfully slow linking..." (see GCC3.3 [1] above) is still an issue. -- Again, had to patch it in-house to speed it up, a la GCC 3.3.</p></dd><dt>2</dt><dd><p class="no_top_margin">At least on Linux, ifstream::readsome() does not always work for large files, as it calls an ioctl  that doesn't work properly for large files.</p></dd><dt>3</dt><dd><p class="no_top_margin">At least on Linux, GCC 3.4.[1,2] optimizer (very rarely) generates incorrect code when comparing enumerated values in else-ifs. (Fixed in 3.4.2)</p></dd></dl></div></div><div class="sec" id="release_notes_11_22_2004.last_update_11_"><h3><span class="title">Last Updated</span></h3><p>This section last updated on November 24, 2004</p></div></div></div></div><div class="col four_col last"><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Download</h3></div></div><div class="portlet_content"><ul><li><a href="pdf/release_notes_11_22_2004.pdf">PDF version of this page</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Search</h3></div></div><div class="portlet_content"><form name="frmSymbolSearch" onsubmit="return SymbolSearch('toolkit')" action="/" id="frmSymbolSearch"><table><tbody><tr align="center" valign="middle"><td colspan="2" nowrap="nowrap"><input name="__symbol" size="22" style="vertical-align:                                          middle;" onkeypress="SymbolSearchKeyPress('toolkit',event)" type="text" />Â Â  <input value="Search" style="vertical-align: middle;" onclick="javasrcipt:SymbolSearch('toolkit');" type="button" /></td></tr><tr class="internal-only"><th style="text-align:left">Public</th><th style="text-align:left">Internal</th></tr><tr><td><input id="pToolkitAll" name="__symboloc" type="radio" checked="checked" /><span title="Search in the C/C++ source code and in this Book">All</span></td><td class="internal-only"><input id="iToolkitAll" name="__symboloc" type="radio" /><span title="Search in the C/C++ source code,  this Book, and Wiki">All</span></td></tr><tr><td><input id="pLXR" name="__symboloc" type="radio" /><span title="Search the symbol in the source code using LINUX Cross-Reference browser">LXR</span></td><td class="internal-only"><input id="iLXR" name="__symboloc" type="radio" /><span title="Search the symbol in the source code using LINUX Cross-Reference browser">LXR</span></td></tr><tr><td><input id="pLib" name="__symboloc" type="radio" /><span title="Locate the Toolkit library(es) where the symbol is defined">Library</span></td><td class="internal-only"><input id="iLib" name="__symboloc" type="radio" /><span title="Locate the Toolkit library(es) where the symbol is defined">Library</span></td></tr></tbody></table></form></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Source Browsers</h3></div></div><div class="portlet_content"><ul><li class="external-only"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">LXR</a></li><li class="external-only"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">Doxygen</a></li><li class="internal-only">LXR: <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">public</a> / <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/lxr/ident">internal</a></li><li class="internal-only">Doxygen: <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml">public</a> / <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/doxyhtml">internal</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>SVN Source Repository</h3></div></div><div class="portlet_content"><ul><li><a href="http://www.ncbi.nlm.nih.gov/bookshelf/br.fcgi?book=toolkit&amp;part=ch_getcode_svn#ch_getcode_svn.code_retrieval">Server</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/trunk/c++">Web
                            (dev)</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/trunk/internal/c++">Web
                            (extra)</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/production/components">Web (prod)</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Resources</h3></div></div><div class="portlet_content"><ul><li class="internal-only"><a href="http://intranet.ncbi.nlm.nih.gov/wiki-private/CxxToolkit">Wiki</a></li><li class="internal-only"><a href="http://jira/browse/CXX">JIRA</a></li><li class="internal-only"><a href="http://intranet/ieb/ToolBox/STAT/test_stat/test_stat_ext.cgi"><span title="View results of testsuite runs on the automatic C++ Toolkit builds">Testsuite</span></a></li><li><a href="release_notes.html">Release Notes</a></li><li><a href="ch_getcode_svn.html#ch_getcode_svn.ftp_download">Download</a></li><li><a href="pdf/TOC.pdf">PDF of the book</a></li><li><a href="ch_style.html">Coding Style</a></li><li><a href="ch_faq.html#ch_faq.mailing_lists">Mailing Lists</a></li><li><a href="mailto:CPP-CORE@NCBI.NLM.NIH.GOV"><span title="Contact C++ Toolkit group">Help and Support</span></a></li></ul></div></div></div></div></div></div></body></html>
