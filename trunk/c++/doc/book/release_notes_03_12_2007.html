<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Release Notes (March, 2007) - The NCBI C++ Toolkit Book [Internet] - NCBI</title><meta name="description" content="A comprehensive manual on the NCBI C++ toolkit, including its design and development framework, a C++ library reference, software examples and demos, FAQs and release notes." /><meta name="robots" content="index,nofollow,noarchive" /><meta name="page_id" content="release_notes_03_12_2007" /><meta name="page_type" content="chapter" /><meta name="ncbipopper" content="triggerPosition:'bottom left',destPosition:'top left',openEvent:'click',closeEvent:'click'" /><script type="text/javascript" src="js/jig/1.7/js/jig.min.js"></script><script type="text/javascript" src="js/toolkitSymbolSearch.js"></script><link type="text/css" rel="stylesheet" href="css/ptbooks.css" /><link type="text/css" rel="stylesheet" href="css/toolkit.css" /></head><body><div class="grid no_max_width"><div class="col twelve_col nomargin shadow"><div class="content"><div class="col eight_col"><div class="nvgtn"><a href="#__nav_cntnt" class="jig-ncbipopper">Contents ▾</a><div style="display:none;width:700px;height:500px;overflow:auto;" id="__nav_cntnt"><a class="right" href="toc.html">Table of Contents Page</a><ul class="simple-list"><li class="half_rhythm"><a href="toolkit.fm.html">Book Information</a></li><li class="half_rhythm"><a href="part1.html">Part 1. Overview</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_intro.html">1. Introduction to the C++ Toolkit</a></li><li class="half_rhythm"><a href="ch_start.html">2. Getting Started</a></li></ul></li><li class="half_rhythm"><a href="part2.html">Part 2. Development Framework</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_getcode_svn.html">3. Retrieve the Source Code (FTP and Subversion)</a></li><li class="half_rhythm"><a href="ch_config.html">4. Configure, Build, and Use the Toolkit</a></li><li class="half_rhythm"><a href="ch_build.html">5. Working with Makefiles</a></li><li class="half_rhythm"><a href="ch_proj.html">6. Project Creation and Management</a></li><li class="half_rhythm"><a href="ch_style.html">7. Programming Policies and Guidelines</a></li></ul></li><li class="half_rhythm"><a href="part3.html">Part 3. C++ Toolkit Library Reference</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_core.html">8. Portability, Core Functionality and Application Framework</a></li><li class="half_rhythm"><a href="ch_conn.html">9. Networking and IPC</a></li><li class="half_rhythm"><a href="ch_dbapi.html">10. Database Access - SQL, Berkley DB</a></li><li class="half_rhythm"><a href="ch_cgi.html">11. CGI and Fast-CGI </a></li><li class="half_rhythm"><a href="ch_html.html">12. HTML</a></li><li class="half_rhythm"><a href="ch_ser.html">13. Data Serialization (ASN.1, XML)</a></li><li class="half_rhythm"><a href="ch_datamod.html">14. Biological Sequence Data Model</a></li><li class="half_rhythm"><a href="ch_objmgr.html">15. Biological Object Manager</a></li><li class="half_rhythm"><a href="ch_blast.html">16. BLAST API</a></li><li class="half_rhythm"><a href="ch_dataaccess.html">17. Access to NCBI data</a></li><li class="half_rhythm"><a href="ch_algoalign.html">18. Biological Sequence Alignment</a></li><li class="half_rhythm"><a href="ch_gui.html">19. GUI and Graphics</a></li><li class="half_rhythm"><a href="ch_boost.html">20. Using the Boost Unit Test Framework</a></li></ul></li><li class="half_rhythm"><a href="part4.html">Part 4. Wrappers for 3rd-Party Packages</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_xmlwrapp.html">21. XmlWrapp (XML parsing and handling, XSLT, XPath)</a></li></ul></li><li class="half_rhythm"><a href="part5.html">Part 5. Software</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_debug.html">22. Debugging, Exceptions, and Error Handling</a></li><li class="half_rhythm"><a href="ch_grid.html">23. Distributed Computing</a></li><li class="half_rhythm"><a href="ch_app.html">24. Applications</a></li><li class="half_rhythm"><a href="ch_demo.html">25. Examples and Demos</a></li><li class="half_rhythm"><a href="ch_res.html">26. C Toolkit Resources for C++ Toolkit Users</a></li></ul></li><li class="half_rhythm"><a href="part6.html">Part 6. Help and Support</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_browse.html">27. NCBI C++ Toolkit Source Browser</a></li><li class="half_rhythm"><a href="ch_devtools.html">28. Software Development Tools</a></li><li class="half_rhythm"><a href="ch_xmlauthor.html">29. XML Authoring using Word</a></li><li class="half_rhythm"><a href="ch_faq.html">30. FAQs, Useful Documentation Links, and Mailing Lists</a></li></ul></li><li class="half_rhythm"><a href="part7.html">Part 7. Library and Applications Configuration</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_libconfig.html">31. Library Configuration</a></li></ul></li><li class="half_rhythm"><a href="part8.html">Release Notes</a><ul class="simple-list"><li class="half_rhythm"><a href="release_notes.html">Release Notes (Version 9, May 2012)</a></li><li class="half_rhythm"><a href="release_notes_7-05_2011.html">Release Notes (Version 7, May 2011)</a></li><li class="half_rhythm"><a href="release_notes_06_29_2010.html">Release Notes (June, 2010)</a></li><li class="half_rhythm"><a href="release_notes_05_15_2009.html">Release Notes (May, 2009)</a></li><li class="half_rhythm"><a href="release_notes_12_24_2008.html">Release Notes (December, 2008)</a></li><li class="half_rhythm"><a href="release_notes_12_31_2008.html">Release Notes (March, 2008)</a></li><li class="half_rhythm"><a href="release_notes_08_27_2007.html">Release Notes (August, 2007)</a></li><li class="half_rhythm"><a href="release_notes_03_12_2007.html">Release Notes (March, 2007)</a></li><li class="half_rhythm"><a href="release_notes_08_14_2006.html">Release Notes (August, 2006)</a></li><li class="half_rhythm"><a href="release_notes_04_30_2006.html">Release Notes (April 30, 2006)</a></li><li class="half_rhythm"><a href="release_notes_12_31_2005.html">Release Notes (December 31, 2005)</a></li><li class="half_rhythm"><a href="release_notes_10_03_2005.html">Release Notes (August, 2005)</a></li><li class="half_rhythm"><a href="release_notes_05_05_2005.html">Release Notes (April, 2005)</a></li><li class="half_rhythm"><a href="release_notes_03_09_2005.html">Release Notes (February, 2005)</a></li><li class="half_rhythm"><a href="release_notes_11_22_2004.html">Release Notes (November 22, 2004)</a></li><li class="half_rhythm"><a href="release_notes_10_2_2004.html">Release Notes (October 2, 2004)</a></li><li class="half_rhythm"><a href="release_notes_7_8_2004.html">Release Notes (July 8, 2004)</a></li><li class="half_rhythm"><a href="release_notes_april_16_2004.html">Release Notes (April 16, 2004)</a></li><li class="half_rhythm"><a href="release_notes_12_08_2003.html">Release Notes (December 8, 2003)</a></li><li class="half_rhythm"><a href="release_notes_08_01_2003.html">Release Notes (August 1, 2003)</a></li></ul></li><li class="half_rhythm"><a href="app1.appendix1.html">Appendix - Books and Styles</a></li></ul></div><div class="pagination"><a class="pagelink active prev" title="Previous page" href="release_notes_08_27_2007.html">&lt; Prev</a><a class="pagelink active next" title="Next page" href="release_notes_08_14_2006.html">Next &gt;</a></div></div><div class="meta_content"><h1><span class="title">Release Notes (March, 2007)</span></h1><p class="small">Created: March 12, 2007; Last Update: March 27, 2007.</p></div><div class="body_content"><ul><li><p><a href="#release_notes_03_12_2007.Download">Download</a></p></li><li><p><a href="#release_notes_03_12_2007.Build">Build</a></p></li><li><p><a href="#release_notes_03_12_2007.New_Developments">New Developments</a></p><ul><li><p><a href="#release_notes_03_12_2007.CORELIB__Portability">CORELIB — Portability and Application Framework</a></p></li><li><p><a href="#release_notes_03_12_2007.CONNECT__Data_stream">CONNECT — Data streaming, Networking, and Dispatching</a></p></li><li><p><a href="#release_notes_03_12_2007.UTIL__Miscellaneous_">UTIL — Miscellaneous Low-Level APIs</a></p></li><li><p><a href="#release_notes_03_12_2007.SERIAL__Data_Seriali">SERIAL — Data Serialization (ASN.1, XML)</a></p></li><li><p><a href="#release_notes_03_12_2007.DATATOOL__Code_Gener">DATATOOL — Code Generator and Data Converter Tool</a></p></li><li><p><a href="#release_notes_03_12_2007.CGI__CGI_and_FastCGI">CGI — CGI and Fast-CGI Application Framework</a></p></li><li><p><a href="#release_notes_03_12_2007.HTML__HTML_Generatio">HTML — HTML Generation Library</a></p></li><li><p><a href="#release_notes_03_12_2007.BDB__Yet_Another_C_A">BDB — Yet Another C++ API Based On BerkeleyDB</a></p></li><li><p><a href="#release_notes_03_12_2007.DBAPI__SQL_Database_">DBAPI — SQL Database Connectivity</a></p></li><li><p><a href="#release_notes_03_12_2007.ALGO__Generic_Algori">ALGO — Generic Algorithms</a></p></li><li><p><a href="#release_notes_03_12_2007.ALGO_ALIGN_SPLIGN__S">ALGO/ALIGN — Spliced and Generic Alignment Algorithms</a></p></li><li><p><a href="#release_notes_03_12_2007.ALNMGR__Biosequence_">ALNMGR — Bio-sequence Alignment Manager</a></p></li><li><p><a href="#release_notes_03_12_2007.BLAST">BLAST</a></p></li><li><p><a href="#release_notes_03_12_2007.BIOOBJECTS__BioObjec">BIO-OBJECTS — Bio-Object Specific Utility Functions (Not Involving OM++)</a></p></li><li><p><a href="#release_notes_03_12_2007.LDS__Local_Data_Stor">LDS — Local Data Storage</a></p></li><li><p><a href="#release_notes_03_12_2007.OM__Object_Manager__">OM++ — Object Manager — For Retrieving and Processing Bio-Objects</a></p></li><li><p><a href="#release_notes_03_12_2007.OM_LOADERS_READERS__">OM++ LOADERS/READERS — Data Retrieval Libraries for OM++</a></p></li><li><p><a href="#release_notes_03_12_2007.BUILD_FRAMEWORK_UNIX">BUILD FRAMEWORK (UNIX)</a></p></li><li><p><a href="#release_notes_03_12_2007.PTB__Project_Tree_Bu">PTB — Project Tree Builder for MSVC++ .NET</a></p></li><li><p><a href="#release_notes_03_12_2007.APPLICATIONS">APPLICATIONS</a></p></li><li><p><a href="#release_notes_03_12_2007.GRID_DISTRIBUTED_COM">GRID (DISTRIBUTED COMPUTING) FRAMEWORK</a></p><ul><li><p><a href="#release_notes_03_12_2007.Grid_Worker_Node_Imp">Grid Worker Node Implementation Framework</a></p></li></ul></li></ul></li><li><p><a href="#release_notes_03_12_2007.Documentation">Documentation</a></p></li><li><p><a href="#release_notes_03_12_2007.Platforms_OSs__compi">Platforms (OS's, compilers used inside NCBI)</a></p><ul><li><p><a href="#release_notes_03_12_2007._HYPERLINK__http__www">Unix</a></p></li><li><p><a href="#release_notes_03_12_2007._HYPERLINK__http__www_1">MS Windows</a></p></li><li><p><a href="#release_notes_03_12_2007._HYPERLINK__http__www_2">Mac OS X</a></p></li></ul></li><li><p><a href="#release_notes_03_12_2007.Caveats_and_Hints">Caveats and Hints</a></p><ul><li><p><a href="#release_notes_03_12_2007.GCC_295">GCC 2.95</a></p></li><li><p><a href="#release_notes_03_12_2007.GCC_304">GCC 3.0.4</a></p></li><li><p><a href="#release_notes_03_12_2007.GCC_33">GCC 3.3</a></p></li><li><p><a href="#release_notes_03_12_2007.GCC_34x__40x">GCC 3.4.x, 4.0.x</a></p></li></ul></li></ul><div class="sec" id="release_notes_03_12_2007.Download"><h2><span class="title">Download</span></h2><p>Download the source code archives at:</p><p>
			<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007">ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/</a>
		</p><ul><li><p>
					<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/ncbi_cxx--Mar_12_2007.tar.gz"><u>ncbi_cxx</u><u>--Mar_12_2007</u><u>.tar.gz</u></a> — for UNIX'es (see the list of UNIX flavors below) and MacOSX</p></li><li><p>
					<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/ncbi_cxx--Mar_12_2007.gtar.gz">ncbi_cxx--Mar_12_2007.gtar.gz</a> — for UNIX'es (see the list of UNIX flavors below) and MacOSX</p></li><li><p>
					<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/ncbi_cxx--Mar_12_2007.exe">ncbi_cxx--Mar_12_2007.exe</a> — for MS-Windows (32- and 64-bit) / MSVC++ (7.1, 8.0) — self-extracting</p></li><li><p>
					<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/ncbi_cxx--Mar_12_2007.zip">ncbi_cxx--Mar_12_2007.zip</a> — for MS-Windows (32- and 64-bit) / MSVC++ (7.1, 8.0) </p></li></ul><p>The sources correspond to the NCBI <a href="ch_getcode_svn.html#ch_getcode_svn.code_retrieval">production tree</a> sources, which in turn roughly corresponds to the <a href="ch_getcode_svn.html#ch_getcode_svn.source_tree">development tree</a> sources from February 16, 2007.</p><p>There are also two sub-directories, containing easily buildable source distributives of the NCBI C Toolkit (for MS Windows and UNIX) and selected 3rd-party packages (for MS Windows only). These are the versions that the NCBI C++ Toolkit should build with. For build instructions, see README files there:</p><ul><li><p>
					<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/NCBI_C_Toolkit/README">NCBI_C_Toolkit </a>
					
				</p></li><li><p>
					<a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/ThirdParty/README">ThirdParty</a>
					
				</p></li></ul></div><div class="sec" id="release_notes_03_12_2007.Build"><h2><span class="title">Build</span></h2><p>For guidelines to configure, build and install the Toolkit see <a href="ch_config.html">here</a>.</p></div><div class="sec" id="release_notes_03_12_2007.New_Developments"><h2><span class="title">New Developments</span></h2><div class="sec" id="release_notes_03_12_2007.CORELIB__Portability"><h3><span class="title">CORELIB — Portability and Application Framework</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Redesigned diagnostics setup and introduced new logging info and formatting (it is not turned on by default yet).</p></dd><dt>2</dt><dd><p class="no_top_margin">Enabled per-thread diagnostic properties (request status, client IP, session ID etc.).</p></dd><dt>3</dt><dd><p class="no_top_margin">Diag handlers now support atomic write to allow several applications to use the same log file.</p></dd><dt>4</dt><dd><p class="no_top_margin">Added <span class="nctnt ncbi-class">CStackTrace</span> class to get/store stack trace information.</p></dd><dt>5</dt><dd><p class="no_top_margin">The stack trace is automatically reported by exceptions.</p></dd><dt>6</dt><dd><p class="no_top_margin">FindFiles2&lt;&gt;  — new algorithm for file search.</p></dd><dt>7</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">NStr::ReplaceInPlace()</span>, <span class="nctnt ncbi-func">NStr::HexChar()</span> — new string functions.</p></dd><dt>8</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CStringUTF8</span> — added character buffer validation methods.</p></dd><dt>9</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">XStr</span> — added template-based string comparison, one that does not depend on the character type.</p></dd><dt>10</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CTempString</span> — provided with the <span class="nctnt ncbi-func">clear()</span> and <span class="nctnt ncbi-func">assign()</span> methods to better mimic "std::basic_string"</p></dd><dt>11</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CNcbiApplication</span> — now loads a global configuration file (<span class="nctnt ncbi-path">.ncbirc</span> or <span class="nctnt ncbi-path">ncbi.ini</span>) in addition to any application-specific configuration.</p></dd><dt>12</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CSysLog</span> — obtains the default facility to use from registry settings.</p></dd><dt>13</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CDirEntry::CheckAccess()</span> — to check effective access rights on directory entries.</p></dd><dt>14</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CNcbiApplication</span> — added option "-dryrun" to allow test runs of an application, just to verify if the command line is correct and all preconditions are met.</p></dd><dt>15</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">NcbiSystem::GetMemoryUsage</span> — new function to determine the current process's approximate memory footprint.</p></dd><dt>16</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CRWStreambuf</span> — to allocate buffers per I/O direction; fixed write bug and implemented xsputn() to speed up writing;  fixed <span class="nctnt ncbi-func">showmanyc()</span> not to loop with zero timeouts.</p></dd><dt>17</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">NcbiStreamCopy()</span> — to directly copy contents of one stream into another.</p></dd><dt>18</dt><dd><p class="no_top_margin">Fix printable string and parse escapes to better match the C/C++ string representation standard.</p></dd><dt>19</dt><dd><p class="no_top_margin">"<span class="nctnt ncbi-path">include/corelib/mswin_no_popup.h</span>" — header file to disable popup message boxes on MS Windows. Also, <span class="nctnt ncbi-func">SuppressSystemMessageBox()</span> now can use new flag <span class="nctnt ncbi-monospace">fSuppress_Exception</span> (unhandled exceptions).</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.CONNECT__Data_stream"><h3><span class="title">CONNECT — Data streaming, Networking, and Dispatching</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CServer</span> — a replacement for the <span class="nctnt ncbi-class">CThreadedServer</span>. This multithreaded network server framework allows many permanent connections without the burden of having as many processing threads.</p></dd><dt>2</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CPipe::ExecWait()</span> — to run an external application, pass a stream with input data to it, wait and monitor its execution, and get back its standard output and error streams.</p></dd><dt>3</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">SOCK_isip()</span>, <span class="nctnt ncbi-func">SOCK_isipEx()</span>, <span class="nctnt ncbi-func">SOCK_GetLocalHostAddress()</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">HTTP connector — to make path and arguments non-inheritable in redirects; to allow relative redirects (not argument-only, however); and to take into account Content-Length (and fail if not enough data received).</p></dd><dt>5</dt><dd><p class="no_top_margin">FTP connector — to use minus sign in default password to try to turn off human-readable messages; also, fixed the handling of low-level status codes.</p></dd><dt>6</dt><dd><p class="no_top_margin">Reorganization of the heap manager API:</p></dd><dt>7</dt><dd><p class="no_top_margin">Faster heap with free blocks linked into a list; rename of <span class="nctnt ncbi-func">HEAP_AttachEx()</span> into <span class="nctnt ncbi-func">HEAP_AttachFast()</span>; new API calls <span class="nctnt ncbi-func">HEAP_AllocFast()</span>, <span class="nctnt ncbi-func">HEAP_FreeFast()</span>, and <span class="nctnt ncbi-func">HEAP_Options()</span>.</p></dd><dt>8</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CConnIniter</span> (former <span class="nctnt ncbi-class">CONNECT_InitInternal</span>)  — new helper class to simplify the initialization of the library (and to reduce the chance of that been</p></dd><dt>9</dt><dd><p class="no_top_margin">forgotten) without a necessity of any changes in the existing user code.</p></dd><dt>10</dt><dd><p class="no_top_margin">Most <span class="nctnt ncbi-class">CONNECT</span> related APIs have been modified to take advantage of the initer.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.UTIL__Miscellaneous_"><h3><span class="title">UTIL — Miscellaneous Low-Level APIs</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Compression API — Added automatic finalization for input streams.</p></dd><dt>2</dt><dd><p class="no_top_margin">Also, added an auto-detection and proper reading of uncompressed data (use flag <span class="nctnt ncbi-func">CCompression::fAllowTransparentRead</span>).</p></dd><dt>3</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CCompression*Stream::GetStatus()</span> — new, to get status of the last compression/decompression stream operation.</p></dd><dt>4</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CChunkStreamWriter</span>, <span class="nctnt ncbi-func">CChunkStreamReader</span> — new classes for serialization and deserialization of interleaved sequences of control symbols and chunks of binary data. These two classes are primarily intended for use with asynchronous stream readers/writers.</p></dd><dt>5</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CMaskRegexp</span> — new regexp based class to match string against set of masks.</p></dd><dt>6</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CIStreamBuffer</span> — now can be built directly on a memory buffer.</p></dd><dt>7</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">ILineReader</span> — now can construct a line reader on top of a file thus utilizing more efficient (mmap-based) implementations.</p></dd><dt>8</dt><dd><p class="no_top_margin">Added <span class="nctnt ncbi-class">CIReaderLineReader</span> (line readed based on <span class="nctnt ncbi-class">IReader</span> interface)</p></dd><dt>9</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CFormatGuess</span> - improved format prediction, fixed stream positioning.</p></dd><dt>10</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CResourcePool</span> - added locking traits as a template parameter to provide syncronization where it is needed.</p></dd><dt>11</dt><dd><p class="no_top_margin">Library "<span class="nctnt ncbi-lib">xqueryparse</span>" — a lexer/parser of query language, to parse PubMed queries  and/or limited SQL SELECT subset into a query tree, for further interpretation.</p></dd><dt>12</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CTimeLine</span> — an approximate time tracker that can track millions of uniquely numbered objects. Used for timeout control and time based garbage collection.</p></dd><dt>13</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CTar</span> — fixed bug in the splitting of long filenames; added getters for the last access and creation;  now can restore the original atime (and virtually ctime) for old GNU formats.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.SERIAL__Data_Seriali"><h3><span class="title">SERIAL — Data Serialization (ASN.1, XML, XML Schema)</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CObjectIStream</span> — added option to skip unknown choice variants.</p></dd><dt>2</dt><dd><p class="no_top_margin">Restructured and documented <span class="nctnt ncbi-lib">SERIAL</span> library headers.</p></dd><dt>3</dt><dd><p class="no_top_margin">"<span class="nctnt ncbi-path">app/sample/asn/</span>" — a sample project showing how to generate source code from an ASN.1 specification (see "<span class="nctnt ncbi-path">sample_asn.asn</span>") and then use that code to read, convert and write data matching that specification.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.DATATOOL__Code_Gener"><h3><span class="title">DATATOOL — Code Generator and Data Converter Tool</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Modified XML Schema parser to preserve comments found in the Schema specification. Enhanced parsing of comments in ASN.1 specification.</p></dd><dt>2</dt><dd><p class="no_top_margin">Enhanced datatool to use data specification comments in generated C++ code.</p></dd><dt>3</dt><dd><p class="no_top_margin">Added option to convert data specification into an easily parsable format (e.g. to be fed to the source browsers).</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.CGI__CGI_and_FastCGI"><h3><span class="title">CGI — CGI and Fast-CGI Application Framework</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CCgiUserAgent::GetPlatform()</span> — added.</p></dd><dt>2</dt><dd><p class="no_top_margin">CGI applications can produce multipart responses and suggest destination filenames.</p></dd><dt>3</dt><dd><p class="no_top_margin">Added a cookie to track the progress of Web sessions.</p></dd><dt>4</dt><dd><p class="no_top_margin">Throw an exception if the output CGI stream goes bad.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.HTML__HTML_Generatio"><h3><span class="title">HTML — HTML Generation Library</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added support for XHTML output format.</p></dd><dt>2</dt><dd><p class="no_top_margin">Added OPTGROUP tag support.</p></dd><dt>3</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CPopupMenu</span> — upgraded Sergey Kurdin's popup menu to v2.7. </p></dd><dt>4</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CHTMLHelper</span> — added <span class="nctnt ncbi-func">HTMLDecode</span> method to decode HTML entities and character references.</p></dd><dt>5</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CHTMLHelper::HTMLAttributeEncode()</span> — new method to encode HTML tags attributes.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.BDB__Yet_Another_C_A"><h3><span class="title">BDB — Yet Another C++ API Based On BerkeleyDB</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Implemented multi-row fetch for cursors. Works much faster than regular fetch.</p></dd><dt>2</dt><dd><p class="no_top_margin">Added BLOB read into a resizable buffer (e.g. <span class="nctnt ncbi-func">std::vector</span>).</p></dd><dt>3</dt><dd><p class="no_top_margin">Split store now can free some unused memory (necessary for use in long uptime services).</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.DBAPI__SQL_Database_"><h3><span class="title">DBAPI — SQL Database Connectivity</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-monospace">FreeTDS v64</span> based drivers (<span class="nctnt ncbi-monospace">CTLIB</span>, <span class="nctnt ncbi-monospace">ODBC</span> and <span class="nctnt ncbi-monospace">ODBCW</span> flavors) added.</p></dd><dt>2</dt><dd><p class="no_top_margin">Authentication protocol <span class="nctnt ncbi-monospace">NTLMv2</span> was implemented and enabled with</p></dd><dt>3</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-monospace">ftds64</span> and <span class="nctnt ncbi-monospace">ftds64_odbc</span> drivers; <span class="nctnt ncbi-monospace">NTLMv1</span> was disabled.</p></dd><dt>4</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CDB_Exception::{Get/Set}SybaseSeverity()</span>, <span class="nctnt ncbi-func">CDB_RPCCmd::GetProcName()</span> — new.</p></dd><dt>5</dt><dd><p class="no_top_margin">Posting of a warning in case of a string truncation was added to DBAPI.</p></dd><dt>6</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CWString</span> and <span class="nctnt ncbi-class">CDB_String</span> — new classes, to help handle wide char strings.</p></dd><dt>7</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-monospace">ODBC</span> based drivers — the timeout feature implemented.</p></dd><dt>8</dt><dd><p class="no_top_margin">CVariant — semantic changed so that <span class="nctnt ncbi-class">CVariant</span> constructed on an empty time assumes a "null" value.</p></dd><dt>9</dt><dd><p class="no_top_margin">Integrate a local fallback copy of <span class="nctnt ncbi-monospace">UnixODBC</span> for the sake of <span class="nctnt ncbi-monospace">FreeTDS v64</span>.</p></dd><dt>10</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-monospace">CTLIB</span> driver — now uses TDS protocol 12.5 (was 11.0) by default.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.ALGO__Generic_Algori"><h3><span class="title">ALGO — Generic Algorithms</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added volume merge algorithm - a variant of merge sort for external storage. This particular implementation can use storage concurrency and work efficiently on multiple threads.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.ALGO_ALIGN_SPLIGN__S"><h3><span class="title">ALGO/ALIGN/SPLIGN — Spliced and Generic Alignment Algorithms</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CBandAligner</span> (banded spliced aligner) — no longer requires the band to be centered at the main diagonal.</p></dd><dt>2</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CCompartmentFinder</span> (compartmentization algorithm) — the maximum intron length has been set to one megabase to support extra-long introns. A command line demo utility 'compart' has been added.</p></dd><dt>3</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CHitFilter</span> (greedy alignment reconciliation) — new method <span class="nctnt ncbi-func">s_MergeAbutting()</span> to merge hits abutting on either of the sequences.</p></dd><dt>4</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CSplignFormatter</span> (splign alignment formatter) — redesigned to produce a more readable and informative text alignment view featuring coding region translations.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.ALNMGR__Biosequence_"><h3><span class="title">ALNMGR — Bio-sequence Alignment Manager</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CAlnMerger</span>: Fixed logic when <span class="nctnt ncbi-func">fAllowTranslocation</span> is used.  Added early detection of failures to merge.</p></dd><dt>2</dt><dd><p class="no_top_margin">Introducing a new approach to alignment management.  It comprises of a collection of classes and functions designed to provide flexibility, simplicity and efficiency.  The components are independent of the original alignment manager and where possible, independent of each other.  While this is still a work in progress in alpha stage, the new code is usable and already solves a number of problems.  </p></dd><dt>3</dt><dd><p class="no_top_margin">For example of usage see: <span class="nctnt ncbi-path">objtools/alnmgr/demo/aln_build_app.cpp</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin">List of new entities:  <span class="nctnt ncbi-class">CAlnAsnReader</span>, <span class="nctnt ncbi-class">MergeAlnRngColl</span>, <span class="nctnt ncbi-class">BuildAln</span>, <span class="nctnt ncbi-class">CAlnContainer</span>, <span class="nctnt ncbi-class">ConvertSeqAlignToPairwiseAln</span>, <span class="nctnt ncbi-class">ConvertDensegToPairwiseAln</span>, <span class="nctnt ncbi-class">ConvertStdsegToPairwiseAln</span>, <span class="nctnt ncbi-class">ConvertDendiagToPairwiseAln</span>, <span class="nctnt ncbi-class">ConvertSparseToPairwiseAl</span>, <span class="nctnt ncbi-class">CreateAnchoredAlnFromAln</span>, <span class="nctnt ncbi-class">CreateAnchoredAlnVec</span>, <span class="nctnt ncbi-class">IAlnExplorer</span>, <span class="nctnt ncbi-class">IAlnSegment</span>, <span class="nctnt ncbi-class">IAlnSegmentIterator</span>, <span class="nctnt ncbi-class">CNonDiagFilter</span>, <span class="nctnt ncbi-class">CreateSeqAlignFromAnchoredAln</span>, <span class="nctnt ncbi-class">CreateDensegFromAnchoredAln</span>, <span class="nctnt ncbi-class">CreateDensegFromPairwiseAln</span>, <span class="nctnt ncbi-class">SubtractAlnRngCollections</span>, <span class="nctnt ncbi-class">SubtractOnFirst</span>, <span class="nctnt ncbi-class">SubtractOnSecond</span>, <span class="nctnt ncbi-class">IAlnSeqId</span>, <span class="nctnt ncbi-class">TAlnSeqIdIR</span>, <span class="nctnt ncbi-class">CAlnSeqId</span>, <span class="nctnt ncbi-class">CAlnStats</span>, <span class="nctnt ncbi-class">CAlnIdMap</span>, <span class="nctnt ncbi-class">CAlnUserOptions</span>, <span class="nctnt ncbi-class">CAlnValidate</span>
					</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.BLAST"><h3><span class="title">BLAST</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CDbBlast</span> -deprecated, superceded by <span class="nctnt ncbi-class">CLocalBlast</span> class.</p></dd><dt>2</dt><dd><p class="no_top_margin">Major redesign of the low-level nucleotide BLAST routines. blastn and megablast should be significantly faster for smaller queries.</p></dd><dt>3</dt><dd><p class="no_top_margin">Lookup table improvements in CORE BLAST, optimized ScanSubject routines, compressed query support.</p></dd><dt>4</dt><dd><p class="no_top_margin">Added functionality to use the Smith-Waterman algorithm instead of the BLAST algorithm.</p></dd><dt>5</dt><dd><p class="no_top_margin">Added <span class="nctnt ncbi-lib">blastinput</span> library to read FASTA files into BLAST input.</p></dd><dt>6</dt><dd><p class="no_top_margin">Added <span class="nctnt ncbi-lib">dbindex</span> library to enable megablast search against a pre-indexed database. This can speed up searches in case of short (&lt;100Kbases) queries against a large fixed database.</p></dd><dt>7</dt><dd><p class="no_top_margin">'makeindex' program located in <span class="nctnt ncbi-path">dbindex/makeindex/</span> can be used to create indices from either fasta files or directly from BLAST databases.</p></dd><dt>8</dt><dd><p class="no_top_margin">Added HSP range support, an interface to fetch parts of nucleotide sequences which improves performance in the traceback stage.</p></dd><dt>9</dt><dd><p class="no_top_margin">Use <span class="nctnt ncbi-class">CBlast4Field</span> instead of hard coded strings in <span class="nctnt ncbi-func">blast::CRemoteBlast</span>.</p></dd><dt>10</dt><dd><p class="no_top_margin">Implemented feature to ignore strand <span class="nctnt ncbi-func">blast::SSeqLoc::mask</span>.</p></dd><dt>11</dt><dd><p class="no_top_margin">Preliminary alignment no longer computes traceback under any circumstances.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.BIOOBJECTS__BioObjec"><h3><span class="title">BIO-OBJECTS — Bio-Object Specific Utility Functions (Not Involving OM++)</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CSeq_align</span>, <span class="nctnt ncbi-class">CDense_diag, CStd_seg</span> — allow negative offsets in OffsetRow</p></dd><dt>2</dt><dd><p class="no_top_margin">Sparse-seg, Sparse-align — use vector (instead of list) container</p></dd><dt>3</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CSeq_id::IdentifyAccession()</span> — recognizes more prefixes (AC_, EF-EL, plus internal genome pipeline prefixes) and (mixed-in) EMBL TPA protein accessions, and supports automatically loading the data it needs from an external file.</p></dd><dt>4</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CFastaReader</span> — handles excerpts as new local sequences with appropriate history rather than gappy versions of their parents.</p></dd><dt>5</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CFastaReader</span> — stores deflines in user descriptors for reference.</p></dd><dt>6</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">CBioseq::PackAsDeltaSeq()</span>, <span class="nctnt ncbi-func">CDelta_ext::AddAndSplit()</span> — new methods (powered by new code in library <span class="nctnt ncbi-lib">sequtil</span>) to pack nucleotide sequences with occasional ambiguities in multiple pieces for better overall efficiency.</p></dd><dt>7</dt><dd><p class="no_top_margin">Improved seq-id matching rules in seq-id mapper.</p></dd><dt>8</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CSeq_loc_Mapper_Base</span>, <span class="nctnt ncbi-class">CSeq_align_Mapper_Base</span> — new classes which can be used without creating ObjectManager.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.LDS__Local_Data_Stor"><h3><span class="title">LDS — Local Data Storage</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CLDS_Manager</span> — major redesign.</p></dd><dt>2</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-monospace">lds_indexer</span> — new utility to create or update index files for directories with FASTA or ASN sequences.</p></dd><dt>3</dt><dd><p class="no_top_margin">Added indexing of file names</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.OM__Object_Manager__"><h3><span class="title">OM++ — Object Manager — For Retrieving and Processing Bio-Objects</span></h3><p>New functionality:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-class">CBioseq_EditHandle(CBioseq_Handle)</span> made public and explicit to avoid unnecessary <span class="nctnt ncbi-func">GetEditHandle()</span> calls.</p></dd><dt>2</dt><dd><p class="no_top_margin"> Introduced <span class="nctnt ncbi-class">CSeq_feat_EditHandle</span>.</p></dd><dt>3</dt><dd><p class="no_top_margin"> Introduced <span class="nctnt ncbi-class">CSeq_annot_ftable_CI</span> and <span class="nctnt ncbi-class">CSeq_annot_ftable_I</span>.</p></dd><dt>4</dt><dd><p class="no_top_margin"> Implemented <span class="nctnt ncbi-func">TakeFeat()</span> like methods.</p></dd><dt>5</dt><dd><p class="no_top_margin"> Implemented user API to <span class="nctnt ncbi-func">Update()</span> annotation index.</p></dd><dt>6</dt><dd><p class="no_top_margin"> Added <span class="nctnt ncbi-class">RemoveTopLevelEntry(CSeq_entry_Handle)</span>.</p></dd><dt>7</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-func">AddXxx()</span> and <span class="nctnt ncbi-func">GetXxxHandle()</span> accept extra control argument EMissing/EExist.</p></dd><dt>8</dt><dd><p class="no_top_margin"> Added more exception types.</p></dd><dt>9</dt><dd><p class="no_top_margin"> Added functions to calculate sequence map switch points.</p></dd><dt>10</dt><dd><p class="no_top_margin"> Recognize Seq-data.gap.</p></dd><dt>11</dt><dd><p class="no_top_margin"> Added feature ids index and retrieval.</p></dd><dt>12</dt><dd><p class="no_top_margin"> Added information about local feat-ids to ID2 split specification.</p></dd><dt>13</dt><dd><p class="no_top_margin"> Added generation of feature ids information in ID2 blob splitter.</p></dd><dt>14</dt><dd><p class="no_top_margin"> Use feature lookup by feat-id in <span class="nctnt ncbi-func">GetBestXxxForXxx()</span>.</p></dd><dt>15</dt><dd><p class="no_top_margin"> Implemented seq-map switch editing.</p></dd><dt>16</dt><dd><p class="no_top_margin"> Implemented <span class="nctnt ncbi-func">SAnnotSelector::Reset*NamedAnnots()</span>.</p></dd><dt>17</dt><dd><p class="no_top_margin"> Accept SNP quality data in OCTET STRING format.</p></dd><dt>18</dt><dd><p class="no_top_margin"> Implemented full <span class="nctnt ncbi-class">CSeqMap</span> editing API.</p></dd></dl><p>Bug fixes:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin"> Set name of Seq-annot only if desc.name is present.</p></dd><dt>2</dt><dd><p class="no_top_margin"> MT-Safe management of the <span class="nctnt ncbi-class">CSeqportUtil</span> singleton.</p></dd><dt>3</dt><dd><p class="no_top_margin"> Fixed removing top level entries.</p></dd><dt>4</dt><dd><p class="no_top_margin"> Fixed killing threads of prefetch manager.</p></dd><dt>5</dt><dd><p class="no_top_margin"> Fixed order of multi-id annotations.</p></dd><dt>6</dt><dd><p class="no_top_margin"> Store annots indexing information to allow reindexing after modification.</p></dd><dt>7</dt><dd><p class="no_top_margin"> Avoid feature mapping dependency on memory placement.</p></dd><dt>8</dt><dd><p class="no_top_margin"> Disable multi-conversion of SNPs.</p></dd><dt>9</dt><dd><p class="no_top_margin"> Added check for self-references in <span class="nctnt ncbi-class">CSeqMap_CI</span>.</p></dd><dt>10</dt><dd><p class="no_top_margin"> Fixed <span class="nctnt ncbi-func">GetRight()</span> for single-strand <span class="nctnt ncbi-class">CHandleRange</span>.</p></dd><dt>11</dt><dd><p class="no_top_margin"> PDB chain in Seq-id is case sensitive.</p></dd><dt>12</dt><dd><p class="no_top_margin"> Fixed lost <span class="nctnt ncbi-class">CSeq_data</span> in split sequences.</p></dd><dt>13</dt><dd><p class="no_top_margin"> Preserve original type of Seq-inst after editing if possible.</p></dd><dt>14</dt><dd><p class="no_top_margin"> Fixed incorrect usage of <span class="nctnt ncbi-func">CSeqMap::x_GetSegmentsCount()</span>.</p></dd><dt>15</dt><dd><p class="no_top_margin"> Clean Seq-id cache on edit start.</p></dd><dt>16</dt><dd><p class="no_top_margin"> Automatically reset 'annot' field if it's empty.</p></dd></dl><p>
				<span class="nctnt ncbi-func">RemapAlignToLoc()</span>, <span class="nctnt ncbi-func">CSeq_align::RemapToLoc()</span> — new.</p></div><div class="sec" id="release_notes_03_12_2007.OM_LOADERS_READERS__"><h3><span class="title">OM++ LOADERS/READERS — Data Retrieval Libraries for OM++</span></h3><div class="sec" id="release_notes_03_12_2007.GenBank_data_loader"><h4><span class="title">(GenBank data loader)</span></h4><p>New functionality:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin"> Added parsing of feature ids information.</p></dd><dt>2</dt><dd><p class="no_top_margin"> Allow unknown members/variants in split info.</p></dd></dl><p>Bug fixes:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin"> Properly mark withdrawn and confidential records.</p></dd><dt>2</dt><dd><p class="no_top_margin"> Limit number of simultaneously requested blobs to avoid hangs with PIG ids.</p></dd><dt>3</dt><dd><p class="no_top_margin"> Detect 'suppressed' state.</p></dd><dt>4</dt><dd><p class="no_top_margin"> Fixed exclude-blobs list.</p></dd></dl></div></div><div class="sec" id="release_notes_03_12_2007.BUILD_FRAMEWORK_UNIX"><h3><span class="title">BUILD FRAMEWORK (UNIX)</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-macro">$(BLAST_LIBS)</span>, <span class="nctnt ncbi-macro">$(BLAST_FORMATTER_LIBS)</span> — new macros to isolate users from BLAST's internal dependency changes.</p></dd><dt>2</dt><dd><p class="no_top_margin">
						<span class="nctnt ncbi-macro">$(DLL_UNDEF_FLAGS)</span> — new variable, normally set to <span class="nctnt ncbi-macro">$(ALLOW_UNDEF)</span>; may alter to <span class="nctnt ncbi-macro">$(FORBID_UNDEF)</span> to request strict dependency checking.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.PTB__Project_Tree_Bu"><h3><span class="title">PTB — Project Tree Builder for MSVC++ .NET</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added option to allow setting linker additional dependencies and additional library directries in MSVC tune-up files</p></dd><dt>2</dt><dd><p class="no_top_margin">LST-file filter now can recognize regular expressions in the directory names.</p></dd><dt>3</dt><dd><p class="no_top_margin">Enable configurations when:</p></dd><li><p>3rd party library is absent, but not required</p></li><li><p>libraries with a choice where one of the choices is empty.</p></li><dt>4</dt><dd><p class="no_top_margin">Added option to automate tweaking the toolkit tree for use with VTune.</p></dd><dt>5</dt><dd><p class="no_top_margin">Optimized to speed up the configuration on MSVC8.0.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.APPLICATIONS"><h3><span class="title">APPLICATIONS</span></h3><p>1. <span class="nctnt ncbi-app">NetCache</span>
			</p><ul><li><p>Added support of in-memory logs</p></li></ul><p>2. <span class="nctnt ncbi-app">NetSchedule</span>
			</p><ul><li><p>Moved to new thread-per-request server framework (based on CServer)</p></li><li><p>Implemented fast reply of idle worker node cluster. Important for the CGI request processing.</p></li><li><p>Implemented a dynamic creation/deletion of queues.</p></li><li><p>Implemented tags for job grouping and reporting.</p></li></ul><p>3. <span class="nctnt ncbi-app">ASN2ASN</span>
			</p><ul><li><p>Allow conversion of multiple entries in file.</p></li></ul></div><div class="sec" id="release_notes_03_12_2007.GRID_DISTRIBUTED_COM"><h3><span class="title">GRID (DISTRIBUTED COMPUTING) FRAMEWORK</span></h3><div class="sec" id="release_notes_03_12_2007.Grid_Worker_Node_Imp"><h4><span class="title">Grid Worker Node Implementation Framework</span></h4><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Added "auto_shutdown_if_idle" parameter to worker nodes'</p></dd><dt>2</dt><dd><p class="no_top_margin">configuration files. It allows shutting down a worker node automatically if it is idle for some period of time.</p></dd><dt>3</dt><dd><p class="no_top_margin">Added option to perform a monitor script from jobs running through "remote_app" and "remote_cgi" utilities.  This script allows getting a job's progress execution and making a decision if the job should be terminated.</p></dd><dt>4</dt><dd><p class="no_top_margin">Redesigned and re-implemented low-level <span class="nctnt ncbi-app">NetSchedule</span> client API. It allows making permanent connections to the load-balanced <span class="nctnt ncbi-app">NetSchedul</span>e servers.</p></dd><dt>5</dt><dd><p class="no_top_margin">Moved all Grid Framework APIs and utilities to the new low-level <span class="nctnt ncbi-app">NetSchedule</span> API. </p></dd><dt>6</dt><dd><p class="no_top_margin">Added support from jobs' tags submission to "ns_submit_remote_job" utility.</p></dd></dl></div></div></div><div class="sec" id="release_notes_03_12_2007.Documentation"><h2><span class="title">Documentation</span></h2><div class="sec" id="release_notes_03_12_2007.Location"><h3><span class="title">Location</span></h3><p>The documentation is available online as a searchable book "The NCBI C++ Toolkit": <!--ro--><a href="toc.html">http://www.ncbi.nlm.nih.gov/books/bv.fcgi?rid=toolkit.TOC&amp;depth=2</a>.</p><p>The C++ Toolkit book also provides PDF version of the chapters; although these are not up to date in this release. The PDF version can be accessed by a link that appears on each page.</p></div><div class="sec" id="release_notes_03_12_2007.Content"><h3><span class="title">Content</span></h3><p>Documentation has been grouped into chapters and sections that provide a more logical coherence and flow. New sections and paragraphs continue to be added to update and clarify the older documentation or provide new documentation. The chapter titled "Introduction to the C++ Toolkit" gives an overview of the C++ Toolkit. This chapter contains links to other chapters containing more details on a specific topic and is a good starting point for the new comer.</p><p>The DOXYGEN source browser is used to complement the traditional docs with structured DOXYGEN-generated "Library Reference" ones based on the in-source comments. You can access the DOXYGEN source browser for the NCBI code from:</p><p>
				<a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml">http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml/</a>
			</p><p>A C/C++ Symbol Search query appears on each page of the online Toolkit documentation. You can use this to perform a symbol search on the up-to-date public or in-house versions using source browsers Entrez, LXR, Doxygen and Library.</p><p><b>HEADS-UP:</b> We have switched our source control system from CVS to SVN (Subversion). Unfortunately, the SVN repository cannot (yet) be accessed from outside NCBI. The CVS code repository now contains older version of the source trees (before mid-January 2007) but it still can be accessed via a Web interface (see the sidebar box on each page of the C++ Toolkit Book).</p></div></div><div class="sec" id="release_notes_03_12_2007.Platforms_OSs__compi"><h2><span class="title">Platforms (OS's, compilers used inside NCBI)</span></h2><p>This release was successfully tested on at least the following platforms (but may also work on other platforms). Since the previous release, some platforms were dropped from this list; just because we do not use them inhouse anymore, and some were added (these new platforms are highlighted using bold font). Also, it can happen that some projects would not work (or even compile) in the absence of 3rd-party packages, or with older or newer versions of such packages — in these cases, just skipping such projects (e.g. using flag "-k" for <span class="nctnt ncbi-app">make</span> on UNIX), can get you through.</p><div class="sec" id="release_notes_03_12_2007._HYPERLINK__http__www"><h3><span class="title">
				<a href="ch_config.html#ch_config.UNIX">Unix</a></span></h3><div class="table" id="release_notes_03_12_2007.T1"><h4><span class="title">Table 2. Unix OS's and Supported Compilers</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Operating System </th><th align="left" valign="top" rowspan="1" colspan="1">Architecture </th><th align="left" valign="top" rowspan="1" colspan="1">Compilers</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Linux-2.6.x</span> (w/ <span class="nctnt ncbi-monospace">LIBC 2.3.2</span>
								<span class="nctnt ncbi-monospace">, </span>
								<span class="nctnt ncbi-monospace">2.3.5</span>
								<span class="nctnt ncbi-monospace">)</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">x86-32 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">GCC 3.4.0<br />
							ICC 8.0 (build 20040520Z, package ID l_cc_pc_8.0.066_pe067.1) <br />(GCC 3.0.4, 2.95.3, 3.4.2, 4.1.1- nominal support)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Linux-2.6.x</span> (w/ <span class="nctnt ncbi-monospace">LIBC 2.3.3</span>
								<span class="nctnt ncbi-monospace">, 
								</span>
								<span class="nctnt ncbi-monospace">2.3.5</span>
								<span class="nctnt ncbi-monospace">)</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">x86-64 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">GCC 4.0.1ICC 9.0 (build 20051201) <br />(GCC 4.1.1 - nominal support)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Solaris-8 </span><br /><b>[Support will be discontinued in the next release!]</b></td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">SPARC </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">C++ 5.3 (WorkShop 6u2) patch 111685-<b>24</b><br /> (64-, 32-bit) (GCC 3.4.3 - nominal support)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Solaris-10 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">SPARC </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">Sun C++ 5.5 (Studio8) patch 113817-<b>19</b><br />GCC 4.0.1 (32-bit mode only) </td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Solaris-9 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">x86-32 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">C++ 5.3 (WorkShop 6u2) patch 111686-13<br />GCC 3.4.3 </td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Solaris-10</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">x86-32</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">Sun C++ 5.5 (Studio8) patch 113819-<b>19</b><br />GCC 4.1.1</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">IRIX64-6.5 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">SGI-Mips </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">MIPSpro 7.3.1.3m (64-bit, 32-bit)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">FreeBSD-4.10 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">x86-32 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">GCC 3.4.2</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">FreeBSD-6.1</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">x86-32</span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<b>GCC 3.4.4</b>
							</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Digital Tru64 Unix 5.1 (aka OSF1) </span><br /><b>[Support will be discontinued in the next release!]</b></td><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">ALPHA </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">GCC 3.3.2 (limited support)</td></tr></tbody></table></div></div><div class="sec" id="release_notes_03_12_2007._HYPERLINK__http__www_1"><h3><span class="title">
				<a href="ch_config.html#ch_config.MS_Windows">MS Windows</a></span></h3><div class="table" id="release_notes_03_12_2007.T2"><h4><span class="title">Table 3. MS Windows and Supported Compilers</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Operating System </th><th align="left" valign="top" rowspan="1" colspan="1">Compilers</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">MS Windows-32 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">MS Visual Studio .NET 2003 (<a href="ch_config.html#ch_config.MS_Visual_C_2008">C++ 7.1</a>).NOTE: We also ship an easily buildable archive of <a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/ThirdParty/README">3rd-party</a> packages (including <a href="ftp://ftp.ncbi.nih.gov/toolbox/ncbi_tools++/2007/Mar_12_2007/NCBI_C_Toolkit/README">NCBI C Toolkit</a>) for this platform.</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">MS Windows-32 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">MS Visual Studio .NET 2005 (<a href="ch_config.html#ch_config.MS_Visual_C_2008">C++ 8.0</a>)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">MS Windows-64 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">MS Visual Studio .NET 2005 (<a href="ch_config.html#ch_config.MS_Visual_C_2008">C++ 8.0</a>)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Cygwin 1.5.18</span>
								<span class="nctnt ncbi-monospace"> -</span>
								<span class="nctnt ncbi-monospace">32 </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<a href="ch_config.html#ch_config.Cygwin_GCC">GCC 3.4.4</a>
							</td></tr></tbody></table></div></div><div class="sec" id="release_notes_03_12_2007._HYPERLINK__http__www_2"><h3><span class="title">
				<a href="ch_config.html#ch_config.Mac_OS_X">Mac OS X</a></span></h3><div class="table" id="release_notes_03_12_2007.T3"><h4><span class="title">Table 4. Mac OS, and Supported Compilers</span></h4><table><thead><tr><th align="left" valign="top" rowspan="1" colspan="1">Operating System </th><th align="left" valign="top" rowspan="1" colspan="1">Compilers</th></tr></thead><tbody><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Darwin</span>
								<span class="nctnt ncbi-monospace"> on MacOS X 10.4 ("Tiger") </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<a href="ch_config.html#ch_config.GCC">GCC 4.0.1</a>
							</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">
								<span class="nctnt ncbi-monospace">Darwin</span>
								<span class="nctnt ncbi-monospace"> on MacOS X 10.4 ("Tiger") </span>
							</td><td align="left" valign="top" rowspan="1" colspan="1">
								<a href="ch_config.html#ch_config.Xcode">Xcode</a> 1.5 - 2.2.1 </td></tr></tbody></table></div></div></div><div class="sec" id="release_notes_03_12_2007.Caveats_and_Hints"><h2><span class="title">Caveats and Hints</span></h2><div class="sec" id="release_notes_03_12_2007.GCC_295"><h3><span class="title">GCC 2.95</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Poor MT-safety record.</p></dd><dt>2</dt><dd><p class="no_top_margin">Relatively incomplete/incorrect (comparing to modern compilers) STL implementation.</p></dd><dt>3</dt><dd><p class="no_top_margin">It is going to be deprecated in NCBI as soon as we have any significant trouble with its maintenance.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.GCC_304"><h3><span class="title">GCC 3.0.4</span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Destructor of constructed class member is not called when exception is thrown from a method called from class constructor body (fixed in GCC 3.3).</p></dd><dt>2</dt><dd><p class="no_top_margin">STL stream uses locale in thread unsafe way which may result to segmentation fault when run in multithread mode (fixed in GCC 3.3).</p></dd><dt>3</dt><dd><p class="no_top_margin">Long-file support for C++ streams is disabled/broken (first broken in 3.0, fixed in 3.4).</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.GCC_33"><h3><span class="title">GCC 3.3</span></h3><p>Other than the feature described below, GCC 3.3.2 had been very good to us; it had a lot of very ugly bugs finally fixed.</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Painfully slow linking in debug mode on Linux with GCC-3.3 compiler. — Starting with BINUTILS 2.12 linker tries to merge constant/debug strings marked for merging in object files. But it seems it does this job very inefficiently - I've seen messages about it in internet.  GCC starting with version 3.2 marks section of string constants ready for merging, and also has an option to disable this flag in object files (<span class="nctnt ncbi-cmd">-fno-merge-constants</span>). Adding this flag to compilation stage allows to avoid slow linking. GCC 3.3 also sets merge flag for debug sections and unfortunately there is no option to disable this flag. As a result, linking of debug executables significantly slower than with GCC 3.0.4. The slowdown rate depends on size of debug strings section and it's non-linear, so bigger projects will suffer more of this bug (N^2). BINUTILS 2.15 fixes this. The link time still 2 times slower than without symbol merge, but the resultant executable is about two times smaller in size, and no compiler patching is necessary. We are still testing it in-house. We had to patch GCC 3.3 in-house with the fix described at http://lists.boost.org/MailArchives/boost/msg53004.php.</p></dd><dt>2</dt><dd><p class="no_top_margin">Long-file support still broken.</p></dd></dl></div><div class="sec" id="release_notes_03_12_2007.GCC_34x__40x"><h3><span class="title">GCC 3.4<b>.x, 4.0.x</b></span></h3><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">The "Painfully slow linking..." (see GCC3.3, [1] above) was an issue, and we had to patch it in-house to speed up, a la GCC 3.3 — until we finally upgraded to binutils 2.15.</p></dd><dt>2</dt><dd><p class="no_top_margin">At least on Linux, <span class="nctnt ncbi-func">ifstream::readsome()</span> does not always work for large files, as it calls an <span class="nctnt ncbi-func">ioctl</span> that doesn't work properly for large files (we didn't test whether 4.0.x fixed this).</p></dd><dt>3</dt><dd><p class="no_top_margin">At least on Linux, GCC 3.4.[0,1] optimizer (very rarely) generates incorrect code when comparing enumerated values in <span class="nctnt ncbi-code">else-ifs</span>. (Fixed in 3.4.2)</p></dd><dt>4</dt><dd><p class="no_top_margin">GCC 3.4.3, 3.4.4 (and maybe 3.4.5+) and 4.0 have a bug in the C++ stream library that affects some parts of our code, notably CGI framework. (Fixed in 4.0.1).</p></dd></dl></div></div><div class="sec" id="release_notes_03_12_2007.Last_Updated"><h2><span class="title">Last Updated</span></h2><p>This section last updated on March 27, 2007.</p></div></div></div><div class="col four_col last"><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>In this page</h3></div></div><div class="portlet_content"><ul><li><a href="#release_notes_03_12_2007.Download">Download</a></li><li><a href="#release_notes_03_12_2007.Build">Build</a></li><li><a href="#release_notes_03_12_2007.New_Developments">New Developments</a></li><li><a href="#release_notes_03_12_2007.Documentation">Documentation</a></li><li><a href="#release_notes_03_12_2007.Platforms_OSs__compi">Platforms (OS's, compilers used inside NCBI)</a></li><li><a href="#release_notes_03_12_2007.Caveats_and_Hints">Caveats and Hints</a></li><li><a href="#release_notes_03_12_2007.Last_Updated">Last Updated</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Download</h3></div></div><div class="portlet_content"><ul><li><a href="pdf/release_notes_03_12_2007.pdf">PDF version of this page</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Search</h3></div></div><div class="portlet_content"><form name="frmSymbolSearch" onsubmit="return SymbolSearch('toolkit')" action="/" id="frmSymbolSearch"><table><tbody><tr align="center" valign="middle"><td colspan="2" nowrap="nowrap"><input id="search_box" name="__symbol" style="vertical-align:                                          middle; line-height:normal " onkeypress="SymbolSearchKeyPress('toolkit',event)" type="text" />   
					<label for="search_box" class="offscreen_noflow">Search term</label><button type="submit" value="Search" style="vertical-align:                                          middle; line-height:normal;" onclick="javasrcipt:SymbolSearch('toolkit');">Search</button></td></tr><tr class="internal-only"><th style="text-align:left">Public</th><th style="text-align:left">Internal</th></tr><tr><td><input id="pToolkitAll" name="__symboloc" type="radio" checked="checked" /><label for="pToolkitAll" title="Search in the C/C++ source code and in this Book">All</label></td><td class="internal-only"><input id="iToolkitAll" name="__symboloc" type="radio" /><label for="iToolkitAll" title="Search in the C/C++ source code,  this Book, and Wiki">All</label></td></tr><tr><td><input id="pLXR" name="__symboloc" type="radio" /><label for="pLXR" title="Search the symbol in the source code using LINUX Cross-Reference browser">LXR</label></td><td class="internal-only"><input id="iLXR" name="__symboloc" type="radio" /><label for="iLXR" title="Search the symbol in the source code using LINUX Cross-Reference browser">LXR</label></td></tr><tr><td><input id="pLib" name="__symboloc" type="radio" /><label for="pLib" title="Locate the Toolkit library(es) where the symbol is defined">Library</label></td><td class="internal-only"><input id="iLib" name="__symboloc" type="radio" /><label for="iLib" title="Locate the Toolkit library(es) where the symbol is defined">Library</label></td></tr></tbody></table></form></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Source Browsers</h3></div></div><div class="portlet_content"><ul><li class="external-only"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">LXR</a></li><li class="external-only"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">Doxygen</a></li><li class="internal-only">LXR: <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">public</a> / <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/lxr/ident">internal</a></li><li class="internal-only">Doxygen: <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml">public</a> / <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/doxyhtml">internal</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>SVN Source Repository</h3></div></div><div class="portlet_content"><ul><li><a href="http://www.ncbi.nlm.nih.gov/bookshelf/br.fcgi?book=toolkit&amp;part=ch_getcode_svn#ch_getcode_svn.code_retrieval">Server</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/trunk/c++">Web
                            (dev)</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/trunk/internal/c++">Web
                            (extra)</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/production/components">Web (prod)</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Resources</h3></div></div><div class="portlet_content"><ul><li class="internal-only"><a href="http://intranet.ncbi.nlm.nih.gov/wiki-private/CxxToolkit">Wiki</a></li><li class="internal-only"><a href="http://jira/browse/CXX">JIRA</a></li><li class="internal-only"><a href="http://intranet/ieb/ToolBox/STAT/test_stat/test_stat_ext.cgi"><span title="View results of testsuite runs on the automatic C++ Toolkit builds">Testsuite</span></a></li><li><a href="release_notes.html">Release Notes</a></li><li><a href="ch_getcode_svn.html#ch_getcode_svn.ftp_download">Download</a></li><li><a href="pdf/TOC.pdf">PDF of the book</a></li><li><a href="ch_style.html">Coding Style</a></li><li><a href="ch_faq.html#ch_faq.mailing_lists">Mailing Lists</a></li><li><a href="mailto:CPP-CORE@NCBI.NLM.NIH.GOV"><span title="Contact C++ Toolkit group">Help and Support</span></a></li></ul></div></div></div></div></div></div></body></html>
