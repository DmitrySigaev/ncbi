<head>
<title>agp_validate utility<title>
</head>
<body>
<CODE>agp_validate</CODE> checks text formatting and consistency,
and prints various statistics for components, gaps, scaffolds and objects.
<A href=#alt><CODE>agp_validate -alt</CODE></A> accesses GenBank to check component Accessions,
Lengths and Taxids.
<P>
Violations of the following requirements qualify as ERRORS:
<UL>
<LI>8 or 9 tab-separated columns (excluding end of line <CODE>#comments</CODE>);
first 8 columns have non-empty values.</LI>
<UL><LI>Positive integers in columns:
  2)<CODE>object_beg</CODE>,
  3)<CODE>object_end</CODE>,
  4)<CODE>part_num</CODE>, 6b)<CODE>gap_length</CODE>,
  7a)<CODE>component_beg</CODE>, 8a)<CODE>component_end</CODE>.
<UL>
  <li>Object ranges are sequential and non-overlapping.</li>
  <li><CODE>object_beg</CODE> is less than or equal to <CODE>object_end</CODE>.</li>
  <li><CODE>component_beg</CODE> is less than or equal to <CODE>component_end</CODE>.</li>

  <li>The length of the span specified for the component (in columns 7a and 8a) matches<BR>
  the length of the span specified for the object (in column 2 and 3).</li>
  <li>The length of the gap (in column 6b) matches<BR> the length of the span specified for the object (in columns 2 and 3).</li>
  <LI>Each object starts with an <CODE>object_beg</CODE> coordinate of 1.</LI>
  <LI>Each object starts with a <CODE>part_number</CODE> of 1.</LI>
  <LI>Column 4)<CODE>part_number</CODE> == previous <CODE>part_number + 1</CODE>.</LI>
</UL>
<LI>Valid keywords or symbols in columns
  5)<CODE>component_type</CODE>, 7b)<CODE>gap_type</CODE>,
  8b)<CODE>linkage</CODE>, 9a)<CODE>orientation</CODE>.
<UL>
  <LI><CODE>0</CODE> or <CODE>na</CODE> component orientation is used only in singleton scaffolds.
</UL>

<LI>All lines with the same <CODE>object</CODE> are sequential, and are
not intermixed with other objects.
</UL>
</UL>
<P>
WARNINGS are issued for:
<UL>
<LI>A gap at the beginning or the end of an object, 2 consequitive gap lines.
<LI><CODE>linkage yes</CODE> with a <CODE>gap_type</CODE> other than
<CODE>fragment</CODE>, <CODE>clone</CODE>, <CODE>repeat</CODE>.
<LI>Overlapping spans on a given component id.
<LI>Non-draft component ids used more than once ("draft" being one of:
<U>A</U>ctive draft, <U>D</U>raft HTG, <U>P</U>re Draft).
<LI>Non-draft component spans out of order.
<LI>Extra tab character at the end of line.
<LI>No components lines in an object.
</UL>

Note: you can run <CODE>agp_validate -list</CODE> to see the list of all
error messages and warnings.

<a name=alt><H3>agp_validate -alt</H3>
Component Accession, Length and Taxid checks require accessing
GenBank and other NCBI databases. This may be very time-consuming,
and therefore this is done separately from most checks that rely only
on file content.
<P>
"<CODE>agp_validate -alt</CODE>" can detect the following violations:
<UL>
<LI><CODE>component_id</CODE> is not a valid GenBank accession,
  or is ambiguous because it lacks a version number.
<LI><CODE>component_end</CODE> is greater than the sequence length.
<LI>Component has a taxid which is different from a taxid of most
other components.<BR>
If components come from several subspecies,
"<CODE>-species</CODE>" flag might be useful; it allows to ignore the
differences between subspecies.
</UL>

</body>
